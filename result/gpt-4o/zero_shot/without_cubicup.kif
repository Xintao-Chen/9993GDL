(role yellow)
(role red)

(init (control yellow))
(init (cubes yellow 28))
(init (cubes red 28))
(init (lastpos 6 6 6))
(init (filled 0 0 0 ground))
(init (filled 1 0 0 ground))
(init (filled 2 0 0 ground))
(init (filled 3 0 0 ground))
(init (filled 4 0 0 ground))
(init (filled 5 0 0 ground))
(init (filled 6 0 0 ground))
(init (filled 0 1 0 ground))
(init (filled 1 1 0 ground))
(init (filled 2 1 0 ground))
(init (filled 3 1 0 ground))
(init (filled 4 1 0 ground))
(init (filled 5 1 0 ground))
(init (filled 6 1 0 ground))
(init (filled 0 2 0 ground))
(init (filled 1 2 0 ground))
(init (filled 2 2 0 ground))
(init (filled 3 2 0 ground))
(init (filled 4 2 0 ground))
(init (filled 5 2 0 ground))
(init (filled 6 2 0 ground))
(init (filled 0 3 0 ground))
(init (filled 1 3 0 ground))
(init (filled 2 3 0 ground))
(init (filled 3 3 0 ground))
(init (filled 4 3 0 ground))
(init (filled 5 3 0 ground))
(init (filled 6 3 0 ground))
(init (filled 0 4 0 ground))
(init (filled 1 4 0 ground))
(init (filled 2 4 0 ground))
(init (filled 3 4 0 ground))
(init (filled 4 4 0 ground))
(init (filled 5 4 0 ground))
(init (filled 6 4 0 ground))
(init (filled 0 5 0 ground))
(init (filled 1 5 0 ground))
(init (filled 2 5 0 ground))
(init (filled 3 5 0 ground))
(init (filled 4 5 0 ground))
(init (filled 5 5 0 ground))
(init (filled 6 5 0 ground))
(init (filled 0 6 0 ground))
(init (filled 1 6 0 ground))
(init (filled 2 6 0 ground))
(init (filled 3 6 0 ground))
(init (filled 4 6 0 ground))
(init (filled 5 6 0 ground))
(init (filled 6 6 0 ground))

(<= (legal ?player noop)
    (true (control ?opponent))
    (role ?player)
    (role ?opponent)
    (distinct ?player ?opponent))

(<= (legal ?player (place ?x ?y ?z))
    (true (control ?player))
    (true (cubes ?player ?n))
    (pos ?x ?y ?z)
    (not (true (filled ?x ?y ?z)))
    (above ?x ?y ?z ?x ?y ?z1)
    (true (filled ?x ?y ?z1)))

(<= (next (control yellow))
    (true (control red)))

(<= (next (control red))
    (true (control yellow)))

(<= (next (cubes ?player ?n1))
    (does ?player (place ?x ?y ?z))
    (true (cubes ?player ?n))
    (succ ?n1 ?n))

(<= (next (filled ?x ?y ?z ?player))
    (does ?player (place ?x ?y ?z)))

(<= (terminal)
    (true (filled 6 6 6 ?player)))

(<= (goal ?player 100)
    (true (filled 6 6 6 ?player))
    (not (cubicup 6 6 6 ?opponent)))

(<= (goal ?opponent 50)
    (true (filled 6 6 6 ?player))
    (cubicup 6 6 6 ?opponent))

(<= (goal ?player 0)
    (true (filled 6 6 6 ?player))
    (cubicup 6 6 6 ?opponent))

(<= (cubicup ?x ?y ?z ?player)
    (true (filled ?x ?y ?z ?player))
    (true (filled ?x1 ?y1 ?z1 ?player))
    (true (filled ?x2 ?y2 ?z2 ?player))
    (true (filled ?x3 ?y3 ?z3 ?player))
    (cubicup_positions ?x ?y ?z ?x1 ?y1 ?z1 ?x2 ?y2 ?z2 ?x3 ?y3 ?z3))

(<= (pos ?x ?y ?z)
    (index ?x)
    (index ?y)
    (index ?z))

(<= (above ?x ?y ?z ?x ?y ?z1)
    (succ ?z1 ?z))

(index 0)
(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)

(cubicup_positions 6 6 6 5 6 6 6 5 6 6 6 5)