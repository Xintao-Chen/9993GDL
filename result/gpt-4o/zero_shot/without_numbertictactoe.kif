(role odd)
(role even)

(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (control odd))

(<= (legal ?player (mark ?m ?n ?x))
    (true (control ?player))
    (true (cell ?m ?n b))
    (role ?player)
    (number ?player ?x))

(<= (legal odd noop)
    (true (control odd))
    (not (exists (?m ?n ?x) (legal odd (mark ?m ?n ?x)))))

(<= (legal even noop)
    (true (control even))
    (not (exists (?m ?n ?x) (legal even (mark ?m ?n ?x)))))

(<= (next (cell ?m ?n ?x))
    (does ?player (mark ?m ?n ?x)))

(<= (next (cell ?m ?n ?v))
    (true (cell ?m ?n ?v))
    (not (does ?player (mark ?m ?n ?x))))

(<= (next (control odd))
    (true (control even)))

(<= (next (control even))
    (true (control odd)))

(<= (terminal)
    (line ?player)
    (true (control ?player)))

(<= (terminal)
    (line ?player)
    (not (true (control ?player))))

(<= (terminal)
    (not (exists (?m ?n) (true (cell ?m ?n b)))))

(<= (goal odd 100)
    (line even)
    (not (true (control even))))

(<= (goal even 100)
    (line odd)
    (not (true (control odd))))

(<= (goal odd 0)
    (line odd)
    (true (control odd)))

(<= (goal even 0)
    (line even)
    (true (control even)))

(<= (goal odd 50)
    (not (line odd))
    (not (line even))
    (not (exists (?m ?n) (true (cell ?m ?n b)))))

(<= (goal even 50)
    (not (line odd))
    (not (line even))
    (not (exists (?m ?n) (true (cell ?m ?n b)))))

(<= (line ?player)
    (row ?m ?player))

(<= (line ?player)
    (column ?n ?player))

(<= (line ?player)
    (diagonal ?player))

(<= (row ?m ?player)
    (true (cell ?m 1 ?x1))
    (true (cell ?m 2 ?x2))
    (true (cell ?m 3 ?x3))
    (sum ?x1 ?x2 ?x3 ?sum)
    (winning_sum ?sum))

(<= (column ?n ?player)
    (true (cell 1 ?n ?x1))
    (true (cell 2 ?n ?x2))
    (true (cell 3 ?n ?x3))
    (sum ?x1 ?x2 ?x3 ?sum)
    (winning_sum ?sum))

(<= (diagonal ?player)
    (true (cell 1 1 ?x1))
    (true (cell 2 2 ?x2))
    (true (cell 3 3 ?x3))
    (sum ?x1 ?x2 ?x3 ?sum)
    (winning_sum ?sum))

(<= (diagonal ?player)
    (true (cell 1 3 ?x1))
    (true (cell 2 2 ?x2))
    (true (cell 3 1 ?x3))
    (sum ?x1 ?x2 ?x3 ?sum)
    (winning_sum ?sum))

(number odd 1)
(number odd 3)
(number odd 5)
(number odd 7)
(number odd 9)

(number even 2)
(number even 4)
(number even 6)
(number even 8)

(winning_sum 15)

(<= (sum ?x1 ?x2 ?x3 ?sum)
    (add ?x1 ?x2 ?temp)
    (add ?temp ?x3 ?sum))

(<= (add ?x ?y ?z)
    (succ ?x ?y ?z))

(succ 0 1 1)
(succ 1 1 2)
(succ 1 2 3)
(succ 1 3 4)
(succ 1 4 5)
(succ 1 5 6)
(succ 1 6 7)
(succ 1 7 8)
(succ 1 8 9)
(succ 2 1 3)
(succ 2 2 4)
(succ 2 3 5)
(succ 2 4 6)
(succ 2 5 7)
(succ 2 6 8)
(succ 2 7 9)
(succ 3 1 4)
(succ 3 2 5)
(succ 3 3 6)
(succ 3 4 7)
(succ 3 5 8)
(succ 3 6 9)
(succ 4 1 5)
(succ 4 2 6)
(succ 4 3 7)
(succ 4 4 8)
(succ 4 5 9)
(succ 5 1 6)
(succ 5 2 7)
(succ 5 3 8)
(succ 5 4 9)
(succ 6 1 7)
(succ 6 2 8)
(succ 6 3 9)
(succ 7 1 8)
(succ 7 2 9)
(succ 8 1 9)