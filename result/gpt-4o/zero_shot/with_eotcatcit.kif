(role white)
(role black)

(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (control white))

(<= (legal white (mark X Y))
    (true (cell X Y b))
    (true (control white)))

(<= (legal black (mark X Y))
    (true (cell X Y b))
    (true (control black)))

(<= (legal white noop)
    (not (true (control white))))

(<= (legal black noop)
    (not (true (control black))))

(<= (next (cell X Y x))
    (does white (mark X Y))
    (true (cell X Y b)))

(<= (next (cell X Y o))
    (does black (mark X Y))
    (true (cell X Y b)))

(<= (next (cell X Y V))
    (true (cell X Y V))
    (distinct V b)
    (distinct V x)
    (distinct V o))

(<= (next (control black))
    (true (control white)))

(<= (next (control white))
    (true (control black)))

(<= (line X)
    (true (cell X 1 x))
    (true (cell X 2 x))
    (true (cell X 3 x)))

(<= (line Y)
    (true (cell 1 Y x))
    (true (cell 2 Y x))
    (true (cell 3 Y x)))

(<= (line d1)
    (true (cell 1 1 x))
    (true (cell 2 2 x))
    (true (cell 3 3 x)))

(<= (line d2)
    (true (cell 1 3 x))
    (true (cell 2 2 x))
    (true (cell 3 1 x)))

(<= (line X)
    (true (cell X 1 o))
    (true (cell X 2 o))
    (true (cell X 3 o)))

(<= (line Y)
    (true (cell 1 Y o))
    (true (cell 2 Y o))
    (true (cell 3 Y o)))

(<= (line d1)
    (true (cell 1 1 o))
    (true (cell 2 2 o))
    (true (cell 3 3 o)))

(<= (line d2)
    (true (cell 1 3 o))
    (true (cell 2 2 o))
    (true (cell 3 1 o)))

(<= (full)
    (not (true (cell 1 1 b)))
    (not (true (cell 1 2 b)))
    (not (true (cell 1 3 b)))
    (not (true (cell 2 1 b)))
    (not (true (cell 2 2 b)))
    (not (true (cell 2 3 b)))
    (not (true (cell 3 1 b)))
    (not (true (cell 3 2 b)))
    (not (true (cell 3 3 b))))

(<= terminal
    (line X))

(<= terminal
    (line Y))

(<= terminal
    (line d1))

(<= terminal
    (line d2))

(<= terminal
    (full))

(<= (goal white 100)
    (line X)
    (true (control black)))

(<= (goal black 0)
    (line X)
    (true (control black)))

(<= (goal black 100)
    (line Y)
    (true (control white)))

(<= (goal white 0)
    (line Y)
    (true (control white)))

(<= (goal white 50)
    (full)
    (not (line X))
    (not (line Y))
    (not (line d1))
    (not (line d2)))

(<= (goal black 50)
    (full)
    (not (line X))
    (not (line Y))
    (not (line d1))
    (not (line d2)))