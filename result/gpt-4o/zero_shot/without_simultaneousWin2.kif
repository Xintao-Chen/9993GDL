(role robot)

(init (cell 1 1 0))
(init (cell 1 2 0))
(init (cell 1 3 0))
(init (cell 1 4 0))
(init (cell 2 1 0))
(init (cell 2 2 0))
(init (cell 2 3 0))
(init (cell 2 4 0))
(init (cell 3 1 0))
(init (cell 3 2 0))
(init (cell 3 3 0))
(init (cell 3 4 0))
(init (cell 4 1 0))
(init (cell 4 2 0))
(init (cell 4 3 0))
(init (cell 4 4 0))

(<= (legal robot (press ?x1 ?y1 ?x2 ?y2))
    (true (cell ?x1 ?y1 ?v1))
    (true (cell ?x2 ?y2 ?v2))
    (<= ?x1 4) (>= ?x1 1)
    (<= ?y1 4) (>= ?y1 1)
    (<= ?x2 4) (>= ?x2 1)
    (<= ?y2 4) (>= ?y2 1))

(<= (next (cell ?x ?y 4))
    (does robot (press ?x ?y ?x2 ?y2)))

(<= (next (cell ?x ?y 3))
    (true (cell ?x ?y 4)))

(<= (next (cell ?x ?y 2))
    (true (cell ?x ?y 3)))

(<= (next (cell ?x ?y 1))
    (true (cell ?x ?y 2)))

(<= (next (cell ?x ?y 0))
    (true (cell ?x ?y 1))
    (not (does robot (press ?x ?y ?x2 ?y2))))

(<= (terminal)
    (or (lightson12) (lightson13) (lightson14)
        (lightson23) (lightson24) (lightson34)))

(<= (lightson12)
    (true (cell 1 1 4))
    (true (cell 1 2 4)))

(<= (lightson13)
    (true (cell 1 1 4))
    (true (cell 1 3 4)))

(<= (lightson14)
    (true (cell 1 1 4))
    (true (cell 1 4 4)))

(<= (lightson23)
    (true (cell 2 1 4))
    (true (cell 2 3 4)))

(<= (lightson24)
    (true (cell 2 1 4))
    (true (cell 2 4 4)))

(<= (lightson34)
    (true (cell 3 1 4))
    (true (cell 3 4 4)))

(<= (goal robot 100)
    (terminal)
    (or (lightson12) (lightson13) (lightson14)
        (lightson23) (lightson24) (lightson34)))

(<= (goal robot 0)
    (terminal)
    (not (or (lightson12) (lightson13) (lightson14)
             (lightson23) (lightson24) (lightson34))))