(role robot)

(init (step 0))
(init (cell 1 1 0))
(init (cell 1 2 0))
(init (cell 1 3 0))
(init (cell 1 4 0))
(init (cell 2 1 0))
(init (cell 2 2 0))
(init (cell 2 3 0))
(init (cell 2 4 0))
(init (cell 3 1 0))
(init (cell 3 2 0))
(init (cell 3 3 0))
(init (cell 3 4 0))
(init (cell 4 1 0))
(init (cell 4 2 0))
(init (cell 4 3 0))
(init (cell 4 4 0))

(<= (legal robot (press X1 Y1 X2 Y2 X3 Y3 X4 Y4))
    (true (step S))
    (<= S 19)
    (distinct (list (X1 Y1) (X2 Y2) (X3 Y3) (X4 Y4)))
    (or (and (<= 1 X1) (<= X1 2) (<= 1 Y1) (<= Y1 2))
        (and (<= 1 X2) (<= X2 2) (<= 1 Y2) (<= Y2 2))
        (and (<= 1 X3) (<= X3 2) (<= 1 Y3) (<= Y3 2))
        (and (<= 1 X4) (<= X4 2) (<= 1 Y4) (<= Y4 2)))
    (<= 3 X1) (<= X1 4) (<= 3 Y1) (<= Y1 4)
    (<= 3 X2) (<= X2 4) (<= 3 Y2) (<= Y2 4)
    (<= 3 X3) (<= X3 4) (<= 3 Y3) (<= Y3 4)
    (<= 3 X4) (<= X4 4) (<= 3 Y4) (<= Y4 4))

(<= (next (cell X Y 4))
    (does robot (press X Y _ _ _ _ _ _)))

(<= (next (cell X Y V))
    (true (cell X Y V1))
    (succ V V1)
    (does robot (press X1 Y1 X2 Y2 X3 Y3 X4 Y4))
    (distinct (list (X Y) (X1 Y1) (X2 Y2) (X3 Y3) (X4 Y4))))

(<= (next (cell X Y 0))
    (true (cell X Y 0))
    (does robot (press _ _ _ _ _ _ _ _)))

(<= (next (step S1))
    (true (step S))
    (succ S S1))

(<= (lightsOn1)
    (true (cell 1 1 4))
    (true (cell 1 2 4))
    (true (cell 2 1 4))
    (true (cell 2 2 4)))

(<= (lightsOn2)
    (true (cell 1 3 4))
    (true (cell 1 4 4))
    (true (cell 2 3 4))
    (true (cell 2 4 4)))

(<= (lightsOn3)
    (true (cell 3 1 4))
    (true (cell 3 2 4))
    (true (cell 4 1 4))
    (true (cell 4 2 4)))

(<= (lightsOn4)
    (true (cell 3 3 4))
    (true (cell 3 4 4))
    (true (cell 4 3 4))
    (true (cell 4 4 4)))

(<= terminal
    (true (step 20)))

(<= terminal
    (lightsOn1))

(<= terminal
    (lightsOn2))

(<= terminal
    (lightsOn3))

(<= terminal
    (lightsOn4))

(<= (goal robot 100)
    (lightsOn1))

(<= (goal robot 100)
    (lightsOn2))

(<= (goal robot 100)
    (lightsOn3))

(<= (goal robot 100)
    (lightsOn4))

(<= (goal robot 0)
    (true (step 20))
    (not (lightsOn1))
    (not (lightsOn2))
    (not (lightsOn3))
    (not (lightsOn4)))