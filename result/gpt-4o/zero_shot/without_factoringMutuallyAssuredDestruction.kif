(role robot)

(init (cell 1 1 0))
(init (cell 1 2 0))
(init (cell 1 3 0))
(init (cell 1 4 0))
(init (cell 1 5 0))
(init (cell 1 6 0))
(init (cell 1 7 0))
(init (cell 1 8 0))
(init (cell 1 9 0))
(init (cell 1 10 0))
(init (cell 2 1 0))
(init (cell 2 2 0))
(init (cell 2 3 0))
(init (cell 2 4 0))
(init (cell 2 5 0))
(init (cell 2 6 0))
(init (cell 2 7 0))
(init (cell 2 8 0))
(init (cell 2 9 0))
(init (cell 2 10 0))
(init (counter 1))

(<= (legal robot (press X Y))
    (true (cell X Y V))
    (<= X 2) (>= X 1)
    (<= Y 10) (>= Y 1))

(<= (next (cell X Y 4))
    (does robot (press X Y)))

(<= (next (cell X Y 3))
    (true (cell X Y 4))
    (not (does robot (press X Y))))

(<= (next (cell X Y 2))
    (true (cell X Y 3))
    (not (does robot (press X Y))))

(<= (next (cell X Y 1))
    (true (cell X Y 2))
    (not (does robot (press X Y))))

(<= (next (cell X Y 0))
    (or (true (cell X Y 1))
        (and (true (cell X Y 0))
             (not (does robot (press X Y))))))

(<= (next (counter N))
    (true (counter M))
    (succ M N))

(<= (lightson 9)
    (true (cell 1 1 4))
    (true (cell 1 2 4))
    (true (cell 1 3 4))
    (true (cell 1 4 4))
    (true (cell 1 5 4))
    (true (cell 1 6 4))
    (true (cell 1 7 4))
    (true (cell 1 8 4))
    (true (cell 1 9 4)))

(<= terminal
    (or (lightson 9)
        (true (counter 21))))

(<= (goal robot 100)
    (lightson 9))

(<= (goal robot 0)
    (not (lightson 9)))