(role red)
(role black)

(init (control red))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 7 1 b))
(init (cell 7 2 b))
(init (cell 7 3 b))
(init (cell 7 4 b))
(init (cell 7 5 b))
(init (cell 7 6 b))
(init (cell 8 1 b))
(init (cell 8 2 b))
(init (cell 8 3 b))
(init (cell 8 4 b))
(init (cell 8 5 b))
(init (cell 8 6 b))

(<= (legal ?player (drop ?col))
    (true (control ?player))
    (open ?col))

(<= (legal red noop)
    (true (control black)))

(<= (legal black noop)
    (true (control red)))

(<= (open ?col)
    (true (cell ?col 6 b)))

(<= (open ?col)
    (true (cell ?col 5 b))
    (not (true (cell ?col 6 b))))

(<= (open ?col)
    (true (cell ?col 4 b))
    (not (true (cell ?col 5 b))))

(<= (open ?col)
    (true (cell ?col 3 b))
    (not (true (cell ?col 4 b))))

(<= (open ?col)
    (true (cell ?col 2 b))
    (not (true (cell ?col 3 b))))

(<= (open ?col)
    (true (cell ?col 1 b))
    (not (true (cell ?col 2 b))))

(<= (next (cell ?col ?row ?mark))
    (does ?player (drop ?col))
    (true (cell ?col ?row b))
    (lowest ?col ?row)
    (role ?player)
    (mark ?player ?mark))

(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark))
    (not (does ?player (drop ?col))))

(<= (next (control red))
    (true (control black)))

(<= (next (control black))
    (true (control red)))

(<= (lowest ?col 1)
    (true (cell ?col 1 b)))

(<= (lowest ?col 2)
    (true (cell ?col 2 b))
    (not (true (cell ?col 1 b))))

(<= (lowest ?col 3)
    (true (cell ?col 3 b))
    (not (true (cell ?col 2 b))))

(<= (lowest ?col 4)
    (true (cell ?col 4 b))
    (not (true (cell ?col 3 b))))

(<= (lowest ?col 5)
    (true (cell ?col 5 b))
    (not (true (cell ?col 4 b))))

(<= (lowest ?col 6)
    (true (cell ?col 6 b))
    (not (true (cell ?col 5 b))))

(<= (line ?player)
    (role ?player)
    (mark ?player ?mark)
    (or (horizontal ?mark)
        (vertical ?mark)
        (diagonal ?mark)))

(<= (horizontal ?mark)
    (true (cell ?col1 ?row ?mark))
    (true (cell ?col2 ?row ?mark))
    (true (cell ?col3 ?row ?mark))
    (true (cell ?col4 ?row ?mark))
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4))

(<= (vertical ?mark)
    (true (cell ?col ?row1 ?mark))
    (true (cell ?col ?row2 ?mark))
    (true (cell ?col ?row3 ?mark))
    (true (cell ?col ?row4 ?mark))
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4))

(<= (diagonal ?mark)
    (true (cell ?col1 ?row1 ?mark))
    (true (cell ?col2 ?row2 ?mark))
    (true (cell ?col3 ?row3 ?mark))
    (true (cell ?col4 ?row4 ?mark))
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4))

(<= (diagonal ?mark)
    (true (cell ?col1 ?row4 ?mark))
    (true (cell ?col2 ?row3 ?mark))
    (true (cell ?col3 ?row2 ?mark))
    (true (cell ?col4 ?row1 ?mark))
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4))

(<= (terminal)
    (line red))

(<= (terminal)
    (line black))

(<= (terminal)
    (not (open 1))
    (not (open 2))
    (not (open 3))
    (not (open 4))
    (not (open 5))
    (not (open 6))
    (not (open 7))
    (not (open 8)))

(<= (goal red 100)
    (line black))

(<= (goal black 100)
    (line red))

(<= (goal red 0)
    (line red))

(<= (goal black 0)
    (line black))

(<= (goal red 50)
    (not (line red))
    (not (line black))
    (terminal))

(<= (goal black 50)
    (not (line red))
    (not (line black))
    (terminal))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)