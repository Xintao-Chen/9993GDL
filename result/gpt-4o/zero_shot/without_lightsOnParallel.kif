(role robot)

(init (step 0))
(init (cell 1 1 0))
(init (cell 1 2 0))
(init (cell 1 3 0))
(init (cell 1 4 0))
(init (cell 2 1 0))
(init (cell 2 2 0))
(init (cell 2 3 0))
(init (cell 2 4 0))
(init (cell 3 1 0))
(init (cell 3 2 0))
(init (cell 3 3 0))
(init (cell 3 4 0))
(init (cell 4 1 0))
(init (cell 4 2 0))
(init (cell 4 3 0))
(init (cell 4 4 0))

(<= (legal robot (press X Y))
    (true (cell X Y S))
    (<= X 4)
    (<= Y 4)
    (>= X 1)
    (>= Y 1))

(<= (next (cell X Y 4))
    (does robot (press X Y)))

(<= (next (cell X Y N1))
    (true (cell X Y N))
    (not (does robot (press X Y)))
    (N > 0)
    (N1 = (- N 1)))

(<= (next (cell X Y 0))
    (true (cell X Y 0))
    (not (does robot (press X Y))))

(<= (next (step N1))
    (true (step N))
    (N1 = (+ N 1)))

(<= (terminal)
    (true (step 20)))

(<= (terminal)
    (quadrant_on 1 1 2 2))
(<= (terminal)
    (quadrant_on 1 3 2 4))
(<= (terminal)
    (quadrant_on 3 1 4 2))
(<= (terminal)
    (quadrant_on 3 3 4 4))

(<= (quadrant_on X1 Y1 X2 Y2)
    (true (cell X1 Y1 S1))
    (true (cell X1 Y2 S2))
    (true (cell X2 Y1 S3))
    (true (cell X2 Y2 S4))
    (>= S1 1)
    (>= S2 1)
    (>= S3 1)
    (>= S4 1))

(<= (goal robot 100)
    (quadrant_on 1 1 2 2))
(<= (goal robot 100)
    (quadrant_on 1 3 2 4))
(<= (goal robot 100)
    (quadrant_on 3 1 4 2))
(<= (goal robot 100)
    (quadrant_on 3 3 4 4))

(<= (goal robot 0)
    (not (quadrant_on 1 1 2 2))
    (not (quadrant_on 1 3 2 4))
    (not (quadrant_on 3 1 4 2))
    (not (quadrant_on 3 3 4 4))
    (true (step 20)))