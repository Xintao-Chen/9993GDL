(role red)
(role black)

(init (control red))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 7 1 b))
(init (cell 7 2 b))
(init (cell 7 3 b))
(init (cell 7 4 b))
(init (cell 7 5 b))
(init (cell 7 6 b))
(init (cell 8 1 b))
(init (cell 8 2 b))
(init (cell 8 3 b))
(init (cell 8 4 b))
(init (cell 8 5 b))
(init (cell 8 6 b))
(init (cell 9 1 b))
(init (cell 9 2 b))
(init (cell 9 3 b))
(init (cell 9 4 b))
(init (cell 9 5 b))
(init (cell 9 6 b))

(<= (legal ?player noop)
    (role ?player)
    (not (true (control ?player))))

(<= (legal ?player (drop ?col))
    (true (control ?player))
    (open ?col))

(<= (open ?col)
    (true (cell ?col 6 b)))

(<= (open ?col)
    (true (cell ?col 5 b))
    (not (true (cell ?col 6 b))))

(<= (open ?col)
    (true (cell ?col 4 b))
    (not (true (cell ?col 5 b))))

(<= (open ?col)
    (true (cell ?col 3 b))
    (not (true (cell ?col 4 b))))

(<= (open ?col)
    (true (cell ?col 2 b))
    (not (true (cell ?col 3 b))))

(<= (open ?col)
    (true (cell ?col 1 b))
    (not (true (cell ?col 2 b))))

(<= (next (cell ?col ?row ?player))
    (does ?player (drop ?col))
    (open ?col)
    (lowest ?col ?row))

(<= (lowest ?col 1)
    (true (cell ?col 1 b)))

(<= (lowest ?col 2)
    (true (cell ?col 2 b))
    (not (true (cell ?col 1 b))))

(<= (lowest ?col 3)
    (true (cell ?col 3 b))
    (not (true (cell ?col 2 b))))

(<= (lowest ?col 4)
    (true (cell ?col 4 b))
    (not (true (cell ?col 3 b))))

(<= (lowest ?col 5)
    (true (cell ?col 5 b))
    (not (true (cell ?col 4 b))))

(<= (lowest ?col 6)
    (true (cell ?col 6 b))
    (not (true (cell ?col 5 b))))

(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark))
    (distinct ?mark b))

(<= (next (control red))
    (true (control black)))

(<= (next (control black))
    (true (control red)))

(<= (line ?player)
    (row ?row)
    (col ?col)
    (true (cell ?col ?row ?player))
    (true (cell ?col ?row+1 ?player))
    (true (cell ?col ?row+2 ?player))
    (true (cell ?col ?row+3 ?player)))

(<= (line ?player)
    (row ?row)
    (col ?col)
    (true (cell ?col ?row ?player))
    (true (cell ?col+1 ?row ?player))
    (true (cell ?col+2 ?row ?player))
    (true (cell ?col+3 ?row ?player)))

(<= (line ?player)
    (row ?row)
    (col ?col)
    (true (cell ?col ?row ?player))
    (true (cell ?col+1 ?row+1 ?player))
    (true (cell ?col+2 ?row+2 ?player))
    (true (cell ?col+3 ?row+3 ?player)))

(<= (line ?player)
    (row ?row)
    (col ?col)
    (true (cell ?col ?row ?player))
    (true (cell ?col+1 ?row-1 ?player))
    (true (cell ?col+2 ?row-2 ?player))
    (true (cell ?col+3 ?row-3 ?player)))

(<= (terminal)
    (line red))

(<= (terminal)
    (line black))

(<= (terminal)
    (not (open 1))
    (not (open 2))
    (not (open 3))
    (not (open 4))
    (not (open 5))
    (not (open 6))
    (not (open 7))
    (not (open 8))
    (not (open 9)))

(<= (goal red 100)
    (line red))

(<= (goal black 0)
    (line red))

(<= (goal black 100)
    (line black))

(<= (goal red 0)
    (line black))

(<= (goal red 50)
    (not (line red))
    (not (line black))
    (terminal))

(<= (goal black 50)
    (not (line red))
    (not (line black))
    (terminal))

(row 1)
(row 2)
(row 3)
(row 4)
(row 5)
(row 6)

(col 1)
(col 2)
(col 3)
(col 4)
(col 5)
(col 6)
(col 7)
(col 8)
(col 9)