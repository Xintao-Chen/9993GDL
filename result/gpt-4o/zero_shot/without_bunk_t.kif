(role player1)
(role player2)

(init (cell 1 1 empty))
(init (cell 1 2 empty))
(init (cell 1 3 empty))
(init (cell 2 1 empty))
(init (cell 2 2 empty))
(init (cell 2 3 empty))
(init (cell 3 1 empty))
(init (cell 3 2 empty))
(init (cell 3 3 empty))
(init (control player1))

(<= (legal player1 (mark ?x ?y))
    (true (control player1))
    (true (cell ?x ?y empty))
    (not (line player1 ?x ?y)))

(<= (legal player2 (mark ?x ?y))
    (true (control player2))
    (true (cell ?x ?y empty))
    (not (line player2 ?x ?y)))

(<= (legal player1 noop)
    (true (control player1))
    (not (exists (?x ?y) (legal player1 (mark ?x ?y)))))

(<= (legal player2 noop)
    (true (control player2))
    (not (exists (?x ?y) (legal player2 (mark ?x ?y)))))

(<= (next (cell ?x ?y white))
    (does player1 (mark ?x ?y))
    (true (cell ?x ?y empty)))

(<= (next (cell ?x ?y black))
    (does player2 (mark ?x ?y))
    (true (cell ?x ?y empty)))

(<= (next (cell ?x ?y ?color))
    (true (cell ?x ?y ?color))
    (not (does ?player (mark ?x ?y))))

(<= (next (control player2))
    (true (control player1)))

(<= (next (control player1))
    (true (control player2)))

(<= (line ?player ?x ?y)
    (true (cell ?x ?y ?color))
    (true (cell ?x1 ?y ?color))
    (true (cell ?x2 ?y ?color))
    (distinct ?x ?x1)
    (distinct ?x ?x2)
    (distinct ?x1 ?x2)
    (role ?player)
    (color ?player ?color))

(<= (line ?player ?x ?y)
    (true (cell ?x ?y ?color))
    (true (cell ?x ?y1 ?color))
    (true (cell ?x ?y2 ?color))
    (distinct ?y ?y1)
    (distinct ?y ?y2)
    (distinct ?y1 ?y2)
    (role ?player)
    (color ?player ?color))

(<= (terminal)
    (line player1 ?x ?y))
(<= (terminal)
    (line player2 ?x ?y))
(<= (terminal)
    (not (exists (?x ?y) (true (cell ?x ?y empty)))))

(<= (goal player1 100)
    (line player1 ?x ?y)
    (line player2 ?x ?y))

(<= (goal player2 100)
    (line player1 ?x ?y)
    (line player2 ?x ?y))

(<= (goal player1 75)
    (line player1 ?x ?y)
    (not (line player2 ?x ?y)))

(<= (goal player2 75)
    (line player2 ?x ?y)
    (not (line player1 ?x ?y)))

(<= (goal player1 25)
    (line player2 ?x ?y)
    (not (line player1 ?x ?y)))

(<= (goal player2 25)
    (line player1 ?x ?y)
    (not (line player2 ?x ?y)))

(<= (goal player1 50)
    (not (line player1 ?x ?y))
    (not (line player2 ?x ?y))
    (not (exists (?x ?y) (true (cell ?x ?y empty))))

(<= (goal player2 50)
    (not (line player1 ?x ?y))
    (not (line player2 ?x ?y))
    (not (exists (?x ?y) (true (cell ?x ?y empty))))

(color player1 white)
(color player2 black)