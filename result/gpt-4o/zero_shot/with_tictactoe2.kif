(role xPlayer)
(role oPlayer)

(init (control xPlayer))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))

(<= (legal xPlayer (mark ?x ?y))
    (true (control xPlayer))
    (true (cell ?x ?y b)))
(<= (legal xPlayer noop)
    (true (control oPlayer)))
(<= (legal oPlayer (mark ?x ?y))
    (true (control oPlayer))
    (true (cell ?x ?y b)))
(<= (legal oPlayer noop)
    (true (control xPlayer)))

(<= (next (cell ?x ?y x))
    (does xPlayer (mark ?x ?y)))
(<= (next (cell ?x ?y o))
    (does oPlayer (mark ?x ?y)))
(<= (next (cell ?x ?y ?w))
    (true (cell ?x ?y ?w))
    (distinct ?w b)
    (does ?player (mark ?u ?v))
    (or (distinct ?x ?u) (distinct ?y ?v)))
(<= (next (control xPlayer))
    (true (control oPlayer))
    (does oPlayer (mark ?x ?y)))
(<= (next (control oPlayer))
    (true (control xPlayer))
    (does xPlayer (mark ?x ?y)))

(<= (line ?player)
    (true (cell ?x 1 ?player))
    (true (cell ?x 2 ?player))
    (true (cell ?x 3 ?player)))
(<= (line ?player)
    (true (cell 1 ?y ?player))
    (true (cell 2 ?y ?player))
    (true (cell 3 ?y ?player)))
(<= (line ?player)
    (true (cell 1 1 ?player))
    (true (cell 2 2 ?player))
    (true (cell 3 3 ?player)))
(<= (line ?player)
    (true (cell 1 3 ?player))
    (true (cell 2 2 ?player))
    (true (cell 3 1 ?player)))

(<= (full)
    (true (cell 1 1 ?x))
    (true (cell 1 2 ?x))
    (true (cell 1 3 ?x))
    (true (cell 2 1 ?x))
    (true (cell 2 2 ?x))
    (true (cell 2 3 ?x))
    (true (cell 3 1 ?x))
    (true (cell 3 2 ?x))
    (true (cell 3 3 ?x))
    (distinct ?x b))

(<= terminal
    (line xPlayer))
(<= terminal
    (line oPlayer))
(<= terminal
    (full))

(<= (goal xPlayer 100)
    (line xPlayer))
(<= (goal oPlayer 0)
    (line xPlayer))
(<= (goal oPlayer 100)
    (line oPlayer))
(<= (goal xPlayer 0)
    (line oPlayer))
(<= (goal xPlayer 50)
    (full)
    (not (line xPlayer))
    (not (line oPlayer)))
(<= (goal oPlayer 50)
    (full)
    (not (line xPlayer))
    (not (line oPlayer)))