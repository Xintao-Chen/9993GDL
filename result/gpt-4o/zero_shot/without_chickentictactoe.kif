(role xplayer)
(role oplayer)

(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (control xplayer))

(<= (legal xplayer (mark M N))
    (true (cell M N b))
    (true (control xplayer)))

(<= (legal oplayer (mark M N))
    (true (cell M N b))
    (true (control oplayer)))

(<= (next (cell M N x))
    (does xplayer (mark M N))
    (true (cell M N b)))

(<= (next (cell M N o))
    (does oplayer (mark M N))
    (true (cell M N b)))

(<= (next (cell M N V))
    (true (cell M N V))
    (distinct V b)
    (does P (mark X Y)))

(<= (next (control oplayer))
    (true (control xplayer))
    (does xplayer (mark M N)))

(<= (next (control xplayer))
    (true (control oplayer))
    (does oplayer (mark M N)))

(<= (line P)
    (true (cell 1 1 P))
    (true (cell 1 2 P))
    (true (cell 1 3 P)))

(<= (line P)
    (true (cell 2 1 P))
    (true (cell 2 2 P))
    (true (cell 2 3 P)))

(<= (line P)
    (true (cell 3 1 P))
    (true (cell 3 2 P))
    (true (cell 3 3 P)))

(<= (line P)
    (true (cell 1 1 P))
    (true (cell 2 1 P))
    (true (cell 3 1 P)))

(<= (line P)
    (true (cell 1 2 P))
    (true (cell 2 2 P))
    (true (cell 3 2 P)))

(<= (line P)
    (true (cell 1 3 P))
    (true (cell 2 3 P))
    (true (cell 3 3 P)))

(<= (line P)
    (true (cell 1 1 P))
    (true (cell 2 2 P))
    (true (cell 3 3 P)))

(<= (line P)
    (true (cell 1 3 P))
    (true (cell 2 2 P))
    (true (cell 3 1 P)))

(<= (terminal)
    (line x))
(<= (terminal)
    (line o))
(<= (terminal)
    (not (true (cell 1 1 b)))
    (not (true (cell 1 2 b)))
    (not (true (cell 1 3 b)))
    (not (true (cell 2 1 b)))
    (not (true (cell 2 2 b)))
    (not (true (cell 2 3 b)))
    (not (true (cell 3 1 b)))
    (not (true (cell 3 2 b)))
    (not (true (cell 3 3 b))))

(<= (goal xplayer 100)
    (line x))
(<= (goal oplayer 0)
    (line x))
(<= (goal oplayer 100)
    (line o))
(<= (goal xplayer 0)
    (line o))
(<= (goal xplayer 50)
    (not (line x))
    (not (line o))
    (terminal))
(<= (goal oplayer 50)
    (not (line x))
    (not (line o))
    (terminal))