(role red)
(role yellow)
(role blue)

(init (control red))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 7 1 b))
(init (cell 7 2 b))
(init (cell 7 3 b))
(init (cell 7 4 b))
(init (cell 7 5 b))
(init (cell 7 6 b))
(init (cell 8 1 b))
(init (cell 8 2 b))
(init (cell 8 3 b))
(init (cell 8 4 b))
(init (cell 8 5 b))
(init (cell 8 6 b))

(<= (legal ?player noop)
    (role ?player)
    (not (true (control ?player))))

(<= (legal red (drop ?col))
    (true (control red))
    (open ?col))

(<= (legal yellow (drop ?col))
    (true (control yellow))
    (open ?col))

(<= (legal blue (drop ?col))
    (true (control blue))
    (open ?col))

(<= (open ?col)
    (true (cell ?col ?row b)))

(<= (next (cell ?col ?row ?player))
    (does ?player (drop ?col))
    (true (cell ?col ?row b))
    (not (lower_row ?col ?row)))

(<= (next (cell ?col ?row ?player))
    (does ?player (drop ?col))
    (true (cell ?col ?row b))
    (lower_row ?col ?row)
    (true (cell ?col ?lower_row b)))

(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark))
    (distinct ?mark b)
    (not (does ?player (drop ?col))))

(<= (next (control yellow))
    (true (control red)))

(<= (next (control blue))
    (true (control yellow)))

(<= (next (control red))
    (true (control blue)))

(<= (lower_row ?col ?row)
    (succ ?row ?lower_row)
    (true (cell ?col ?lower_row b)))

(<= (terminal)
    (line ?player)
    (role ?player))

(<= (terminal)
    (not (open ?col)))

(<= (line ?player)
    (true (cell ?col ?row ?player))
    (true (cell ?col ?next_row ?player))
    (true (cell ?col ?next_next_row ?player))
    (true (cell ?col ?next_next_next_row ?player))
    (succ ?row ?next_row)
    (succ ?next_row ?next_next_row)
    (succ ?next_next_row ?next_next_next_row))

(<= (line ?player)
    (true (cell ?col ?row ?player))
    (true (cell ?next_col ?row ?player))
    (true (cell ?next_next_col ?row ?player))
    (true (cell ?next_next_next_col ?row ?player))
    (succ ?col ?next_col)
    (succ ?next_col ?next_next_col)
    (succ ?next_next_col ?next_next_next_col))

(<= (line ?player)
    (true (cell ?col ?row ?player))
    (true (cell ?next_col ?next_row ?player))
    (true (cell ?next_next_col ?next_next_row ?player))
    (true (cell ?next_next_next_col ?next_next_next_row ?player))
    (succ ?col ?next_col)
    (succ ?next_col ?next_next_col)
    (succ ?next_next_col ?next_next_next_col)
    (succ ?row ?next_row)
    (succ ?next_row ?next_next_row)
    (succ ?next_next_row ?next_next_next_row))

(<= (line ?player)
    (true (cell ?col ?row ?player))
    (true (cell ?prev_col ?next_row ?player))
    (true (cell ?prev_prev_col ?next_next_row ?player))
    (true (cell ?prev_prev_prev_col ?next_next_next_row ?player))
    (succ ?prev_col ?col)
    (succ ?prev_prev_col ?prev_col)
    (succ ?prev_prev_prev_col ?prev_prev_col)
    (succ ?row ?next_row)
    (succ ?next_row ?next_next_row)
    (succ ?next_next_row ?next_next_next_row))

(<= (goal red 100)
    (line red))

(<= (goal yellow 100)
    (line yellow))

(<= (goal blue 100)
    (line blue))

(<= (goal red 50)
    (line yellow))

(<= (goal yellow 50)
    (line blue))

(<= (goal blue 50)
    (line red))

(<= (goal red 0)
    (not (line red))
    (not (line yellow)))

(<= (goal yellow 0)
    (not (line yellow))
    (not (line blue)))

(<= (goal blue 0)
    (not (line blue))
    (not (line red)))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)