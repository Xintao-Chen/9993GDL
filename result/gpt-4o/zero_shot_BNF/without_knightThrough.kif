(role white)
(role black)

(init (control white))
(init (cell 1 1 white))
(init (cell 2 1 white))
(init (cell 3 1 white))
(init (cell 4 1 white))
(init (cell 5 1 white))
(init (cell 6 1 white))
(init (cell 7 1 white))
(init (cell 8 1 white))
(init (cell 1 2 white))
(init (cell 2 2 white))
(init (cell 3 2 white))
(init (cell 4 2 white))
(init (cell 5 2 white))
(init (cell 6 2 white))
(init (cell 7 2 white))
(init (cell 8 2 white))
(init (cell 1 7 black))
(init (cell 2 7 black))
(init (cell 3 7 black))
(init (cell 4 7 black))
(init (cell 5 7 black))
(init (cell 6 7 black))
(init (cell 7 7 black))
(init (cell 8 7 black))
(init (cell 1 8 black))
(init (cell 2 8 black))
(init (cell 3 8 black))
(init (cell 4 8 black))
(init (cell 5 8 black))
(init (cell 6 8 black))
(init (cell 7 8 black))
(init (cell 8 8 black))

(<= (legal ?player noop)
    (role ?player)
    (true (control ?player)))

(<= (legal ?player (move ?x1 ?y1 ?x2 ?y2))
    (role ?player)
    (true (control ?player))
    (true (cell ?x1 ?y1 ?player))
    (knightmove ?x1 ?y1 ?x2 ?y2)
    (not (true (cell ?x2 ?y2 ?player))))

(<= (knightmove ?x1 ?y1 ?x2 ?y2)
    (index ?x1)
    (index ?y1)
    (index ?x2)
    (index ?y2)
    (or (and (succ ?x1 ?x3) (succ ?x3 ?x2) (succ ?y1 ?y4) (succ ?y4 ?y2))
        (and (succ ?x1 ?x3) (succ ?x3 ?x2) (succ ?y2 ?y4) (succ ?y4 ?y1))
        (and (succ ?x2 ?x3) (succ ?x3 ?x1) (succ ?y1 ?y4) (succ ?y4 ?y2))
        (and (succ ?x2 ?x3) (succ ?x3 ?x1) (succ ?y2 ?y4) (succ ?y4 ?y1))
        (and (succ ?y1 ?y3) (succ ?y3 ?y2) (succ ?x1 ?x4) (succ ?x4 ?x2))
        (and (succ ?y1 ?y3) (succ ?y3 ?y2) (succ ?x2 ?x4) (succ ?x4 ?x1))
        (and (succ ?y2 ?y3) (succ ?y3 ?y1) (succ ?x1 ?x4) (succ ?x4 ?x2))
        (and (succ ?y2 ?y3) (succ ?y3 ?y1) (succ ?x2 ?x4) (succ ?x4 ?x1))))

(<= (next (cell ?x ?y ?player))
    (does ?player (move ?x1 ?y1 ?x ?y)))

(<= (next (cell ?x ?y ?player))
    (true (cell ?x ?y ?player))
    (not (does ?player (move ?x ?y ?x2 ?y2))))

(<= (next (control white))
    (true (control black)))

(<= (next (control black))
    (true (control white)))

(<= (terminal)
    (true (cell ?x 8 white)))

(<= (terminal)
    (true (cell ?x 1 black)))

(<= (terminal)
    (not (true (cell ?x ?y white))))

(<= (terminal)
    (not (true (cell ?x ?y black))))

(<= (goal white 100)
    (true (cell ?x 8 white)))

(<= (goal black 0)
    (true (cell ?x 8 white)))

(<= (goal black 100)
    (true (cell ?x 1 black)))

(<= (goal white 0)
    (true (cell ?x 1 black)))

(<= (goal white 100)
    (not (true (cell ?x ?y black))))

(<= (goal black 0)
    (not (true (cell ?x ?y black))))

(<= (goal black 100)
    (not (true (cell ?x ?y white))))

(<= (goal white 0)
    (not (true (cell ?x ?y white))))

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)