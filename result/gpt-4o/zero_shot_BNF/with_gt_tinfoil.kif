(role flipper)
(role caller)

(init (step 0))
(init (score flipper 0))
(init (score caller 0))

(<= (legal ?player heads) (role ?player))
(<= (legal ?player tails) (role ?player))
(<= (legal ?player neither) (role ?player))

(<= (next (step ?next))
    (true (step ?current))
    (succ ?current ?next))

(<= (next (score flipper ?newScore))
    (true (score flipper ?currentScore))
    (does flipper ?action)
    (does caller ?action)
    (plus ?currentScore 0 ?newScore))

(<= (next (score caller ?newScore))
    (true (score caller ?currentScore))
    (does flipper ?action)
    (does caller ?action)
    (plus ?currentScore 10 ?newScore))

(<= (next (score flipper ?newScore))
    (true (score flipper ?currentScore))
    (does flipper ?action1)
    (does caller ?action2)
    (distinct ?action1 ?action2)
    (plus ?currentScore 10 ?newScore))

(<= (next (score caller ?newScore))
    (true (score caller ?currentScore))
    (does flipper ?action1)
    (does caller ?action2)
    (distinct ?action1 ?action2)
    (plus ?currentScore 0 ?newScore))

(<= (next (score flipper ?newScore))
    (true (score flipper ?currentScore))
    (does flipper neither)
    (does caller ?action)
    (distinct ?action neither)
    (plus ?currentScore 9 ?newScore))

(<= (next (score caller ?newScore))
    (true (score caller ?currentScore))
    (does flipper neither)
    (does caller ?action)
    (distinct ?action neither)
    (plus ?currentScore 1 ?newScore))

(<= (next (score flipper ?newScore))
    (true (score flipper ?currentScore))
    (does flipper ?action)
    (does caller neither)
    (distinct ?action neither)
    (plus ?currentScore 1 ?newScore))

(<= (next (score caller ?newScore))
    (true (score caller ?currentScore))
    (does flipper ?action)
    (does caller neither)
    (distinct ?action neither)
    (plus ?currentScore 9 ?newScore))

(<= (next (score flipper ?newScore))
    (true (score flipper ?currentScore))
    (does flipper neither)
    (does caller neither)
    (plus ?currentScore 1 ?newScore))

(<= (next (score caller ?newScore))
    (true (score caller ?currentScore))
    (does flipper neither)
    (does caller neither)
    (plus ?currentScore 1 ?newScore))

(<= terminal
    (true (step 10)))

(<= (goal flipper 100)
    (true (step 10))
    (true (score flipper ?flipperScore))
    (true (score caller ?callerScore))
    (greaterThan ?flipperScore ?callerScore))

(<= (goal caller 100)
    (true (step 10))
    (true (score flipper ?flipperScore))
    (true (score caller ?callerScore))
    (greaterThan ?callerScore ?flipperScore))

(<= (goal flipper 50)
    (true (step 10))
    (true (score flipper ?flipperScore))
    (true (score caller ?callerScore))
    (distinct ?flipperScore ?callerScore)
    (not (greaterThan ?flipperScore ?callerScore))
    (not (greaterThan ?callerScore ?flipperScore)))

(<= (goal caller 50)
    (true (step 10))
    (true (score flipper ?flipperScore))
    (true (score caller ?callerScore))
    (distinct ?flipperScore ?callerScore)
    (not (greaterThan ?flipperScore ?callerScore))
    (not (greaterThan ?callerScore ?flipperScore)))

(<= (goal flipper 0)
    (true (step 10))
    (true (score flipper ?flipperScore))
    (true (score caller ?callerScore))
    (greaterThan ?callerScore ?flipperScore))

(<= (goal caller 0)
    (true (step 10))
    (true (score flipper ?flipperScore))
    (true (score caller ?callerScore))
    (greaterThan ?flipperScore ?callerScore))

(<= (succ 0 1))
(<= (succ 1 2))
(<= (succ 2 3))
(<= (succ 3 4))
(<= (succ 4 5))
(<= (succ 5 6))
(<= (succ 6 7))
(<= (succ 7 8))
(<= (succ 8 9))
(<= (succ 9 10))

(<= (greaterThan ?x ?y)
    (succ ?y ?x))