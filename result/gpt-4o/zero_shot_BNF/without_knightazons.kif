(role white)
(role black)

(init (control white))
(init (cell 4 1 white))
(init (cell 7 1 white))
(init (cell 1 4 white))
(init (cell 10 4 white))
(init (cell 1 7 black))
(init (cell 10 7 black))
(init (cell 4 10 black))
(init (cell 7 10 black))

(<= (legal ?player noop)
    (role ?player)
    (not (true (control ?player))))

(<= (legal ?player (move ?x1 ?y1 ?x2 ?y2 ?ax ?ay))
    (role ?player)
    (true (control ?player))
    (true (cell ?x1 ?y1 ?player))
    (knightmove ?x1 ?y1 ?x2 ?y2)
    (not (true (cell ?x2 ?y2 _)))
    (knightmove ?x2 ?y2 ?ax ?ay)
    (not (true (cell ?ax ?ay _))))

(<= (next (cell ?x2 ?y2 ?player))
    (does ?player (move ?x1 ?y1 ?x2 ?y2 ?ax ?ay)))

(<= (next (cell ?ax ?ay arrow))
    (does ?player (move ?x1 ?y1 ?x2 ?y2 ?ax ?ay)))

(<= (next (cell ?x ?y ?player))
    (true (cell ?x ?y ?player))
    (not (does ?player (move ?x ?y ?_ ?_ ?_ ?_))))

(<= (next (cell ?x ?y arrow))
    (true (cell ?x ?y arrow))
    (not (does ?player (move ?_ ?_ ?_ ?_ ?x ?y))))

(<= (next (cell ?x ?y ?occupant))
    (true (cell ?x ?y ?occupant))
    (distinct ?occupant white)
    (distinct ?occupant black)
    (distinct ?occupant arrow))

(<= (next (control white))
    (true (control black)))

(<= (next (control black))
    (true (control white)))

(<= (terminal)
    (not (legal white noop))
    (true (control white)))

(<= (terminal)
    (not (legal black noop))
    (true (control black)))

(<= (goal white 100)
    (terminal)
    (not (legal black noop))
    (true (control black)))

(<= (goal black 100)
    (terminal)
    (not (legal white noop))
    (true (control white)))

(<= (goal white 0)
    (terminal)
    (not (legal white noop))
    (true (control white)))

(<= (goal black 0)
    (terminal)
    (not (legal black noop))
    (true (control black)))

(<= (knightmove ?x1 ?y1 ?x2 ?y2)
    (index ?x1)
    (index ?y1)
    (index ?x2)
    (index ?y2)
    (or (and (succ2 ?x1 ?x2) (succ1 ?y1 ?y2))
        (and (succ2 ?x1 ?x2) (pred1 ?y1 ?y2))
        (and (pred2 ?x1 ?x2) (succ1 ?y1 ?y2))
        (and (pred2 ?x1 ?x2) (pred1 ?y1 ?y2))
        (and (succ1 ?x1 ?x2) (succ2 ?y1 ?y2))
        (and (succ1 ?x1 ?x2) (pred2 ?y1 ?y2))
        (and (pred1 ?x1 ?x2) (succ2 ?y1 ?y2))
        (and (pred1 ?x1 ?x2) (pred2 ?y1 ?y2)))

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)
(index 9)
(index 10)

(<= (succ1 ?x ?y)
    (index ?x)
    (index ?y)
    (succ ?x ?y))

(<= (pred1 ?x ?y)
    (index ?x)
    (index ?y)
    (succ ?y ?x))

(<= (succ2 ?x ?y)
    (index ?x)
    (index ?y)
    (succ ?x ?z)
    (succ ?z ?y))

(<= (pred2 ?x ?y)
    (index ?x)
    (index ?y)
    (succ ?y ?z)
    (succ ?z ?x))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)