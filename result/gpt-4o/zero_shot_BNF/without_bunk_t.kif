(role player1)
(role player2)

(init (cell 1 1 white))
(init (cell 1 1 black))
(init (cell 1 2 white))
(init (cell 1 2 black))
(init (cell 1 3 white))
(init (cell 1 3 black))
(init (cell 2 1 white))
(init (cell 2 1 black))
(init (cell 2 2 white))
(init (cell 2 2 black))
(init (cell 2 3 white))
(init (cell 2 3 black))
(init (cell 3 1 white))
(init (cell 3 1 black))
(init (cell 3 2 white))
(init (cell 3 2 black))
(init (cell 3 3 white))
(init (cell 3 3 black))

(<= (legal ?player (place ?x ?y))
    (role ?player)
    (index ?x)
    (index ?y)
    (not (line ?player ?x ?y))
    (not (occupied ?x ?y)))

(<= (legal player1 noop)
    (not (exists ?x ?y (legal player1 (place ?x ?y)))))

(<= (legal player2 noop)
    (not (exists ?x ?y (legal player2 (place ?x ?y)))))

(<= (next (cell ?x ?y ?color))
    (does ?player (place ?x ?y))
    (role ?player)
    (color ?player ?color))

(<= (next (cell ?x ?y ?color))
    (true (cell ?x ?y ?color))
    (not (does ?player (place ?x ?y))))

(<= (next (line ?player ?x ?y))
    (does ?player (place ?x ?y))
    (role ?player)
    (index ?x)
    (index ?y)
    (line-formed ?player ?x ?y))

(<= (terminal)
    (exists ?player ?x ?y (line ?player ?x ?y)))

(<= (terminal)
    (not (exists ?player ?x ?y (legal ?player (place ?x ?y)))))

(<= (goal player1 100)
    (line player1 ?x ?y)
    (line player2 ?a ?b))

(<= (goal player2 100)
    (line player1 ?x ?y)
    (line player2 ?a ?b))

(<= (goal player1 75)
    (line player1 ?x ?y)
    (not (exists ?a ?b (line player2 ?a ?b))))

(<= (goal player2 75)
    (line player2 ?x ?y)
    (not (exists ?a ?b (line player1 ?a ?b))))

(<= (goal player1 25)
    (line player2 ?x ?y)
    (not (exists ?a ?b (line player1 ?a ?b))))

(<= (goal player2 25)
    (line player1 ?x ?y)
    (not (exists ?a ?b (line player2 ?a ?b))))

(<= (goal player1 50)
    (not (exists ?x ?y (line player1 ?x ?y)))
    (not (exists ?x ?y (line player2 ?x ?y))))

(<= (goal player2 50)
    (not (exists ?x ?y (line player1 ?x ?y)))
    (not (exists ?x ?y (line player2 ?x ?y))))

(index 1)
(index 2)
(index 3)

(color player1 white)
(color player2 black)

(<= (occupied ?x ?y)
    (true (cell ?x ?y white))
    (true (cell ?x ?y black)))

(<= (line-formed ?player ?x ?y)
    (role ?player)
    (index ?x)
    (index ?y)
    (line-sequence ?player ?x ?y))

(<= (line-sequence ?player ?x ?y)
    (role ?player)
    (index ?x)
    (index ?y)
    (true (cell ?x ?y ?color))
    (true (cell ?x ?y ?color))
    (true (cell ?x ?y ?color)))