(role red)
(role black)

(init (control red))

(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 7 1 b))
(init (cell 7 2 b))
(init (cell 7 3 b))
(init (cell 7 4 b))
(init (cell 7 5 b))
(init (cell 7 6 b))
(init (cell 8 1 b))
(init (cell 8 2 b))
(init (cell 8 3 b))
(init (cell 8 4 b))
(init (cell 8 5 b))
(init (cell 8 6 b))

(<= (legal ?player (drop ?col))
    (role ?player)
    (true (control ?player))
    (column ?col)
    (open ?col))

(<= (legal ?player noop)
    (role ?player)
    (true (control ?player)))

(<= (open ?col)
    (column ?col)
    (row ?row)
    (true (cell ?col ?row b)))

(<= (next (cell ?col ?row ?player))
    (does ?player (drop ?col))
    (open ?col)
    (lowest ?col ?row))

(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark))
    (not (does ?player (drop ?col)))
    (not (lowest ?col ?row)))

(<= (next (control red))
    (true (control black)))

(<= (next (control black))
    (true (control red)))

(<= (lowest ?col ?row)
    (column ?col)
    (row ?row)
    (open ?col)
    (not (open-lower ?col ?row)))

(<= (open-lower ?col ?row)
    (column ?col)
    (row ?row)
    (row ?lower)
    (succ ?lower ?row)
    (true (cell ?col ?lower b)))

(<= (terminal)
    (line ?player)
    (role ?player))

(<= (terminal)
    (not (open ?col))
    (column ?col))

(<= (goal red 100)
    (line black))

(<= (goal black 100)
    (line red))

(<= (goal red 0)
    (line red))

(<= (goal black 0)
    (line black))

(<= (goal red 50)
    (not (line red))
    (not (line black))
    (not (open ?col))
    (column ?col))

(<= (goal black 50)
    (not (line red))
    (not (line black))
    (not (open ?col))
    (column ?col))

(<= (line ?player)
    (role ?player)
    (row ?row)
    (column ?col1)
    (column ?col2)
    (column ?col3)
    (column ?col4)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (true (cell ?col1 ?row ?player))
    (true (cell ?col2 ?row ?player))
    (true (cell ?col3 ?row ?player))
    (true (cell ?col4 ?row ?player)))

(<= (line ?player)
    (role ?player)
    (column ?col)
    (row ?row1)
    (row ?row2)
    (row ?row3)
    (row ?row4)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4)
    (true (cell ?col ?row1 ?player))
    (true (cell ?col ?row2 ?player))
    (true (cell ?col ?row3 ?player))
    (true (cell ?col ?row4 ?player)))

(<= (line ?player)
    (role ?player)
    (column ?col1)
    (column ?col2)
    (column ?col3)
    (column ?col4)
    (row ?row1)
    (row ?row2)
    (row ?row3)
    (row ?row4)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4)
    (true (cell ?col1 ?row1 ?player))
    (true (cell ?col2 ?row2 ?player))
    (true (cell ?col3 ?row3 ?player))
    (true (cell ?col4 ?row4 ?player)))

(<= (line ?player)
    (role ?player)
    (column ?col1)
    (column ?col2)
    (column ?col3)
    (column ?col4)
    (row ?row1)
    (row ?row2)
    (row ?row3)
    (row ?row4)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row4 ?row3)
    (succ ?row3 ?row2)
    (succ ?row2 ?row1)
    (true (cell ?col1 ?row1 ?player))
    (true (cell ?col2 ?row2 ?player))
    (true (cell ?col3 ?row3 ?player))
    (true (cell ?col4 ?row4 ?player)))

(column 1)
(column 2)
(column 3)
(column 4)
(column 5)
(column 6)
(column 7)
(column 8)

(row 1)
(row 2)
(row 3)
(row 4)
(row 5)
(row 6)

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)