(role xplayer)
(role oplayer)

(init (cell 1 1 b))
(init (cell 1 2 o))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 x))
(init (cell 3 2 o))
(init (cell 3 3 x))
(init (control xplayer))

(<= (legal ?player (mark ?x ?y))
    (role ?player)
    (true (control ?player))
    (cell ?x ?y b)
    (index ?x)
    (index ?y))

(<= (legal xplayer noop)
    (true (control oplayer)))

(<= (legal oplayer noop)
    (true (control xplayer)))

(<= (next (cell ?x ?y ?player))
    (does ?player (mark ?x ?y))
    (index ?x)
    (index ?y)
    (role ?player))

(<= (next (cell ?x ?y ?value))
    (true (cell ?x ?y ?value))
    (does ?player (mark ?a ?b))
    (or (distinct ?x ?a) (distinct ?y ?b))
    (index ?x)
    (index ?y)
    (index ?a)
    (index ?b)
    (role ?player))

(<= (next (control xplayer))
    (true (control oplayer)))

(<= (next (control oplayer))
    (true (control xplayer)))

(<= (line ?player)
    (role ?player)
    (index ?x)
    (true (cell ?x 1 ?player))
    (true (cell ?x 2 ?player))
    (true (cell ?x 3 ?player)))

(<= (line ?player)
    (role ?player)
    (index ?y)
    (true (cell 1 ?y ?player))
    (true (cell 2 ?y ?player))
    (true (cell 3 ?y ?player)))

(<= (line ?player)
    (role ?player)
    (true (cell 1 1 ?player))
    (true (cell 2 2 ?player))
    (true (cell 3 3 ?player)))

(<= (line ?player)
    (role ?player)
    (true (cell 1 3 ?player))
    (true (cell 2 2 ?player))
    (true (cell 3 1 ?player)))

(<= (open)
    (index ?x)
    (index ?y)
    (true (cell ?x ?y b)))

(<= (terminal)
    (line xplayer))

(<= (terminal)
    (line oplayer))

(<= (terminal)
    (not (open)))

(<= (goal xplayer 100)
    (line xplayer))

(<= (goal oplayer 0)
    (line xplayer))

(<= (goal oplayer 100)
    (line oplayer))

(<= (goal xplayer 0)
    (line oplayer))

(<= (goal xplayer 50)
    (not (line xplayer))
    (not (line oplayer))
    (not (open)))

(<= (goal oplayer 50)
    (not (line xplayer))
    (not (line oplayer))
    (not (open)))

(index 1)
(index 2)
(index 3)