(role red)
(role black)

(init (control red))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 1 7 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 2 7 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 3 7 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 4 7 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 5 7 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 6 7 b))
(init (cell 7 1 b))
(init (cell 7 2 b))
(init (cell 7 3 b))
(init (cell 7 4 b))
(init (cell 7 5 b))
(init (cell 7 6 b))
(init (cell 7 7 b))

(<= (legal ?player (drop ?col))
    (role ?player)
    (true (control ?player))
    (index ?col)
    (open ?col))

(<= (legal ?player noop)
    (role ?player)
    (not (true (control ?player))))

(<= (next (cell ?col ?row ?player))
    (does ?player (drop ?col))
    (true (cell ?col ?row b))
    (not (lower ?col ?row)))

(<= (next (cell ?col ?row ?player))
    (true (cell ?col ?row ?player))
    (distinct ?player b))

(<= (next (cell ?col ?row b))
    (true (cell ?col ?row b))
    (not (does ?player (drop ?col))))

(<= (next (control red))
    (true (control black)))

(<= (next (control black))
    (true (control red)))

(<= (open ?col)
    (index ?row)
    (true (cell ?col ?row b)))

(<= (lower ?col ?row)
    (index ?below)
    (succ ?below ?row)
    (true (cell ?col ?below b)))

(<= (terminal)
    (line red))
(<= (terminal)
    (line black))
(<= (terminal)
    (not (open ?col)))

(<= (goal red 100)
    (line black))
(<= (goal black 100)
    (line red))
(<= (goal red 50)
    (not (line red))
    (not (line black))
    (not (open ?col)))
(<= (goal black 50)
    (not (line red))
    (not (line black))
    (not (open ?col)))
(<= (goal red 0)
    (not (line red))
    (not (line black))
    (open ?col))
(<= (goal black 0)
    (not (line red))
    (not (line black))
    (open ?col))

(<= (line ?player)
    (role ?player)
    (index ?col)
    (index ?row)
    (succ ?row ?next1)
    (succ ?next1 ?next2)
    (succ ?next2 ?next3)
    (true (cell ?col ?row ?player))
    (true (cell ?col ?next1 ?player))
    (true (cell ?col ?next2 ?player))
    (true (cell ?col ?next3 ?player)))

(<= (line ?player)
    (role ?player)
    (index ?col)
    (index ?row)
    (succ ?col ?next1)
    (succ ?next1 ?next2)
    (succ ?next2 ?next3)
    (true (cell ?col ?row ?player))
    (true (cell ?next1 ?row ?player))
    (true (cell ?next2 ?row ?player))
    (true (cell ?next3 ?row ?player)))

(<= (line ?player)
    (role ?player)
    (index ?col)
    (index ?row)
    (succ ?col ?next1)
    (succ ?next1 ?next2)
    (succ ?next2 ?next3)
    (succ ?row ?nextRow1)
    (succ ?nextRow1 ?nextRow2)
    (succ ?nextRow2 ?nextRow3)
    (true (cell ?col ?row ?player))
    (true (cell ?next1 ?nextRow1 ?player))
    (true (cell ?next2 ?nextRow2 ?player))
    (true (cell ?next3 ?nextRow3 ?player)))

(<= (line ?player)
    (role ?player)
    (index ?col)
    (index ?row)
    (succ ?col ?next1)
    (succ ?next1 ?next2)
    (succ ?next2 ?next3)
    (succ ?nextRow1 ?row)
    (succ ?nextRow2 ?nextRow1)
    (succ ?nextRow3 ?nextRow2)
    (true (cell ?col ?row ?player))
    (true (cell ?next1 ?nextRow1 ?player))
    (true (cell ?next2 ?nextRow2 ?player))
    (true (cell ?next3 ?nextRow3 ?player)))

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)