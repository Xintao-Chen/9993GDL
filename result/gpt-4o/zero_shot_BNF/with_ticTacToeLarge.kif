(role xplayer)
(role oplayer)

(init (control xplayer))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))

(<= (legal ?player (mark ?x ?y))
    (role ?player)
    (true (control ?player))
    (index ?x)
    (index ?y)
    (true (cell ?x ?y b)))

(<= (legal xplayer noop)
    (true (control oplayer)))

(<= (legal oplayer noop)
    (true (control xplayer)))

(<= (next (cell ?x ?y x))
    (does xplayer (mark ?x ?y))
    (true (cell ?x ?y b)))

(<= (next (cell ?x ?y o))
    (does oplayer (mark ?x ?y))
    (true (cell ?x ?y b)))

(<= (next (cell ?x ?y ?mark))
    (true (cell ?x ?y ?mark))
    (distinct ?mark b))

(<= (next (control xplayer))
    (true (control oplayer)))

(<= (next (control oplayer))
    (true (control xplayer)))

(<= (line ?player ?x1 ?y1 ?x2 ?y2 ?x3 ?y3 ?x4 ?y4 ?x5 ?y5)
    (role ?player)
    (true (cell ?x1 ?y1 ?player))
    (true (cell ?x2 ?y2 ?player))
    (true (cell ?x3 ?y3 ?player))
    (true (cell ?x4 ?y4 ?player))
    (true (cell ?x5 ?y5 ?player)))

(<= (win ?player)
    (role ?player)
    (line ?player ?x1 ?y1 ?x2 ?y2 ?x3 ?y3 ?x4 ?y4 ?x5 ?y5))

(<= (draw)
    (not (win xplayer))
    (not (win oplayer))
    (not (true (cell ?x ?y b)))
    (index ?x)
    (index ?y))

(<= (terminal)
    (win xplayer))
(<= (terminal)
    (win oplayer))
(<= (terminal)
    (draw))

(<= (goal xplayer 100)
    (win xplayer))

(<= (goal oplayer 0)
    (win xplayer))

(<= (goal oplayer 100)
    (win oplayer))

(<= (goal xplayer 0)
    (win oplayer))

(<= (goal xplayer 50)
    (draw))

(<= (goal oplayer 50)
    (draw))

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)