(role white)
(role black)

(init (control white))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 7 1 b))
(init (cell 7 2 b))
(init (cell 7 3 b))
(init (cell 7 4 b))
(init (cell 7 5 b))
(init (cell 7 6 b))

(<= (legal ?player (drop ?col))
    (role ?player)
    (true (control ?player))
    (column ?col)
    (true (cell ?col 6 b)))

(<= (legal ?player noop)
    (role ?player)
    (not (true (control ?player))))

(<= (next (cell ?col ?row ?mark))
    (does ?player (drop ?col))
    (role ?player)
    (true (control ?player))
    (column ?col)
    (row ?row)
    (successor ?row ?nextRow)
    (true (cell ?col ?nextRow b))
    (mark ?player ?mark))

(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark))
    (not (does ?player (drop ?col)))
    (mark ?player ?mark))

(<= (next (control white))
    (true (control black)))

(<= (next (control black))
    (true (control white)))

(<= (goal white 100)
    (line white))

(<= (goal black 100)
    (line black))

(<= (goal white 50)
    (not (line white))
    (not (line black))
    (filled))

(<= (goal black 50)
    (not (line white))
    (not (line black))
    (filled))

(<= (goal white 0)
    (line black))

(<= (goal black 0)
    (line white))

(<= (terminal)
    (line white))

(<= (terminal)
    (line black))

(<= (terminal)
    (filled))

(<= (line ?player)
    (role ?player)
    (row ?row)
    (column ?col)
    (successor ?col ?col2)
    (successor ?col2 ?col3)
    (successor ?col3 ?col4)
    (true (cell ?col ?row ?mark))
    (true (cell ?col2 ?row ?mark))
    (true (cell ?col3 ?row ?mark))
    (true (cell ?col4 ?row ?mark))
    (mark ?player ?mark))

(<= (line ?player)
    (role ?player)
    (row ?row)
    (successor ?row ?row2)
    (successor ?row2 ?row3)
    (successor ?row3 ?row4)
    (column ?col)
    (true (cell ?col ?row ?mark))
    (true (cell ?col ?row2 ?mark))
    (true (cell ?col ?row3 ?mark))
    (true (cell ?col ?row4 ?mark))
    (mark ?player ?mark))

(<= (line ?player)
    (role ?player)
    (row ?row)
    (successor ?row ?row2)
    (successor ?row2 ?row3)
    (successor ?row3 ?row4)
    (column ?col)
    (successor ?col ?col2)
    (successor ?col2 ?col3)
    (successor ?col3 ?col4)
    (true (cell ?col ?row ?mark))
    (true (cell ?col2 ?row2 ?mark))
    (true (cell ?col3 ?row3 ?mark))
    (true (cell ?col4 ?row4 ?mark))
    (mark ?player ?mark))

(<= (line ?player)
    (role ?player)
    (row ?row)
    (successor ?row ?row2)
    (successor ?row2 ?row3)
    (successor ?row3 ?row4)
    (column ?col)
    (successor ?col ?col2)
    (successor ?col2 ?col3)
    (successor ?col3 ?col4)
    (true (cell ?col4 ?row ?mark))
    (true (cell ?col3 ?row2 ?mark))
    (true (cell ?col2 ?row3 ?mark))
    (true (cell ?col ?row4 ?mark))
    (mark ?player ?mark))

(<= (filled)
    (not (true (cell ?col ?row b)))
    (column ?col)
    (row ?row))

(column 1)
(column 2)
(column 3)
(column 4)
(column 5)
(column 6)
(column 7)

(row 1)
(row 2)
(row 3)
(row 4)
(row 5)
(row 6)

(successor 1 2)
(successor 2 3)
(successor 3 4)
(successor 4 5)
(successor 5 6)
(successor 6 7)

(mark white x)
(mark black o)