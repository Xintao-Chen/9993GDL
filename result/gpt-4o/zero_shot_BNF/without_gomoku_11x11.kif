(role black)
(role white)

(init (control black))

; Define the board indices
(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)
(index 9)
(index 10)
(index 11)

; Define the initial state of the board as empty
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 1 7 b))
(init (cell 1 8 b))
(init (cell 1 9 b))
(init (cell 1 10 b))
(init (cell 1 11 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 2 7 b))
(init (cell 2 8 b))
(init (cell 2 9 b))
(init (cell 2 10 b))
(init (cell 2 11 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 3 7 b))
(init (cell 3 8 b))
(init (cell 3 9 b))
(init (cell 3 10 b))
(init (cell 3 11 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 4 7 b))
(init (cell 4 8 b))
(init (cell 4 9 b))
(init (cell 4 10 b))
(init (cell 4 11 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 5 7 b))
(init (cell 5 8 b))
(init (cell 5 9 b))
(init (cell 5 10 b))
(init (cell 5 11 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 6 7 b))
(init (cell 6 8 b))
(init (cell 6 9 b))
(init (cell 6 10 b))
(init (cell 6 11 b))
(init (cell 7 1 b))
(init (cell 7 2 b))
(init (cell 7 3 b))
(init (cell 7 4 b))
(init (cell 7 5 b))
(init (cell 7 6 b))
(init (cell 7 7 b))
(init (cell 7 8 b))
(init (cell 7 9 b))
(init (cell 7 10 b))
(init (cell 7 11 b))
(init (cell 8 1 b))
(init (cell 8 2 b))
(init (cell 8 3 b))
(init (cell 8 4 b))
(init (cell 8 5 b))
(init (cell 8 6 b))
(init (cell 8 7 b))
(init (cell 8 8 b))
(init (cell 8 9 b))
(init (cell 8 10 b))
(init (cell 8 11 b))
(init (cell 9 1 b))
(init (cell 9 2 b))
(init (cell 9 3 b))
(init (cell 9 4 b))
(init (cell 9 5 b))
(init (cell 9 6 b))
(init (cell 9 7 b))
(init (cell 9 8 b))
(init (cell 9 9 b))
(init (cell 9 10 b))
(init (cell 9 11 b))
(init (cell 10 1 b))
(init (cell 10 2 b))
(init (cell 10 3 b))
(init (cell 10 4 b))
(init (cell 10 5 b))
(init (cell 10 6 b))
(init (cell 10 7 b))
(init (cell 10 8 b))
(init (cell 10 9 b))
(init (cell 10 10 b))
(init (cell 10 11 b))
(init (cell 11 1 b))
(init (cell 11 2 b))
(init (cell 11 3 b))
(init (cell 11 4 b))
(init (cell 11 5 b))
(init (cell 11 6 b))
(init (cell 11 7 b))
(init (cell 11 8 b))
(init (cell 11 9 b))
(init (cell 11 10 b))
(init (cell 11 11 b))

; Legal moves
(<= (legal ?player (place ?x ?y))
    (role ?player)
    (true (control ?player))
    (index ?x)
    (index ?y)
    (true (cell ?x ?y b)))

(<= (legal black noop)
    (true (control white)))

(<= (legal white noop)
    (true (control black)))

; Next state
(<= (next (cell ?x ?y ?player))
    (does ?player (place ?x ?y)))

(<= (next (cell ?x ?y ?state))
    (true (cell ?x ?y ?state))
    (distinct ?state b)
    (not (does ?player (place ?x ?y))))

(<= (next (control white))
    (true (control black)))

(<= (next (control black))
    (true (control white)))

; Terminal conditions
(<= (terminal)
    (line ?player))

(<= (terminal)
    (not (exists ?x ?y (true (cell ?x ?y b)))))

; Goal conditions
(<= (goal black 100)
    (line black))

(<= (goal white 100)
    (line white))

(<= (goal black 0)
    (line white))

(<= (goal white 0)
    (line black))

(<= (goal black 50)
    (not (line black))
    (not (line white))
    (not (exists ?x ?y (true (cell ?x ?y b)))))

(<= (goal white 50)
    (not (line black))
    (not (line white))
    (not (exists ?x ?y (true (cell ?x ?y b)))))

; Define a line of five
(<= (line ?player)
    (index ?x)
    (index ?y)
    (true (cell ?x ?y ?player))
    (succ ?x ?x1)
    (true (cell ?x1 ?y ?player))
    (succ ?x1 ?x2)
    (true (cell ?x2 ?y ?player))
    (succ ?x2 ?x3)
    (true (cell ?x3 ?y ?player))
    (succ ?x3 ?x4)
    (true (cell ?x4 ?y ?player)))

(<= (line ?player)
    (index ?x)
    (index ?y)
    (true (cell ?x ?y ?player))
    (succ ?y ?y1)
    (true (cell ?x ?y1 ?player))
    (succ ?y1 ?y2)
    (true (cell ?x ?y2 ?player))
    (succ ?y2 ?y3)
    (true (cell ?x ?y3 ?player))
    (succ ?y3 ?y4)
    (true (cell ?x ?y4 ?player)))

(<= (line ?player)
    (index ?x)
    (index ?y)
    (true (cell ?x ?y ?player))
    (succ ?x ?x1)
    (succ ?y ?y1)
    (true (cell ?x1 ?y1 ?player))
    (succ ?x1 ?x2)
    (succ ?y1 ?y2)
    (true (cell ?x2 ?y2 ?player))
    (succ ?x2 ?x3)
    (succ ?y2 ?y3)
    (true (cell ?x3 ?y3 ?player))
    (succ ?x3 ?x4)
    (succ ?y3 ?y4)
    (true (cell ?x4 ?y4 ?player)))

(<= (line ?player)
    (index ?x)
    (index ?y)
    (true (cell ?x ?y ?player))
    (succ ?x ?x1)
    (pred ?y ?y1)
    (true (cell ?x1 ?y1 ?player))
    (succ ?x1 ?x2)
    (pred ?y1 ?y2)
    (true (cell ?x2 ?y2 ?player))
    (succ ?x2 ?x3)
    (pred ?y2 ?y3)
    (true (cell ?x3 ?y3 ?player))
    (succ ?x3 ?x4)
    (pred ?y3 ?y4)
    (true (cell ?x4 ?y4 ?player)))

; Successor and predecessor relations
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)
(succ 10 11)

(pred 2 1)
(pred 3 2)
(pred 4 3)
(pred 5 4)
(pred 6 5)
(pred 7 6)
(pred 8 7)
(pred 9 8)
(pred 10 9)
(pred 11 10)