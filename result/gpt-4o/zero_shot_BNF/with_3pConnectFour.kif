(role red)
(role yellow)
(role blue)

(init (control red))
(init (cell 1 1 empty))
(init (cell 1 2 empty))
(init (cell 1 3 empty))
(init (cell 1 4 empty))
(init (cell 1 5 empty))
(init (cell 1 6 empty))
(init (cell 2 1 empty))
(init (cell 2 2 empty))
(init (cell 2 3 empty))
(init (cell 2 4 empty))
(init (cell 2 5 empty))
(init (cell 2 6 empty))
(init (cell 3 1 empty))
(init (cell 3 2 empty))
(init (cell 3 3 empty))
(init (cell 3 4 empty))
(init (cell 3 5 empty))
(init (cell 3 6 empty))
(init (cell 4 1 empty))
(init (cell 4 2 empty))
(init (cell 4 3 empty))
(init (cell 4 4 empty))
(init (cell 4 5 empty))
(init (cell 4 6 empty))
(init (cell 5 1 empty))
(init (cell 5 2 empty))
(init (cell 5 3 empty))
(init (cell 5 4 empty))
(init (cell 5 5 empty))
(init (cell 5 6 empty))
(init (cell 6 1 empty))
(init (cell 6 2 empty))
(init (cell 6 3 empty))
(init (cell 6 4 empty))
(init (cell 6 5 empty))
(init (cell 6 6 empty))
(init (cell 7 1 empty))
(init (cell 7 2 empty))
(init (cell 7 3 empty))
(init (cell 7 4 empty))
(init (cell 7 5 empty))
(init (cell 7 6 empty))
(init (cell 8 1 empty))
(init (cell 8 2 empty))
(init (cell 8 3 empty))
(init (cell 8 4 empty))
(init (cell 8 5 empty))
(init (cell 8 6 empty))

(<= (legal ?player (drop ?col))
    (role ?player)
    (true (control ?player))
    (column ?col)
    (open ?col))

(<= (legal ?player noop)
    (role ?player)
    (not (true (control ?player))))

(<= (next (cell ?col ?row ?player))
    (does ?player (drop ?col))
    (true (cell ?col ?row empty))
    (lowest_empty ?col ?row))

(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark))
    (distinct ?mark empty)
    (not (does ?player (drop ?col)))
    (not (lowest_empty ?col ?row)))

(<= (next (control yellow))
    (true (control red)))

(<= (next (control blue))
    (true (control yellow)))

(<= (next (control red))
    (true (control blue)))

(<= (open ?col)
    (column ?col)
    (row ?row)
    (true (cell ?col ?row empty)))

(<= (lowest_empty ?col ?row)
    (column ?col)
    (row ?row)
    (true (cell ?col ?row empty))
    (not (exists_lower_empty ?col ?row)))

(<= (exists_lower_empty ?col ?row)
    (column ?col)
    (row ?row)
    (row ?lower_row)
    (succ ?lower_row ?row)
    (true (cell ?col ?lower_row empty)))

(<= (terminal)
    (line ?player)
    (role ?player))

(<= (terminal)
    (not (open ?col))
    (column ?col))

(<= (goal ?player 100)
    (line ?player))

(<= (goal ?player 50)
    (assists ?player ?assisted)
    (line ?assisted))

(<= (goal ?player 0)
    (role ?player)
    (not (line ?player))
    (not (assists ?player ?assisted)))

(<= (line ?player)
    (role ?player)
    (four_in_a_row ?player))

(<= (four_in_a_row ?player)
    (role ?player)
    (row ?row)
    (column ?col1)
    (column ?col2)
    (column ?col3)
    (column ?col4)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (true (cell ?col1 ?row ?player))
    (true (cell ?col2 ?row ?player))
    (true (cell ?col3 ?row ?player))
    (true (cell ?col4 ?row ?player)))

(<= (four_in_a_row ?player)
    (role ?player)
    (column ?col)
    (row ?row1)
    (row ?row2)
    (row ?row3)
    (row ?row4)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4)
    (true (cell ?col ?row1 ?player))
    (true (cell ?col ?row2 ?player))
    (true (cell ?col ?row3 ?player))
    (true (cell ?col ?row4 ?player)))

(<= (four_in_a_row ?player)
    (role ?player)
    (column ?col1)
    (column ?col2)
    (column ?col3)
    (column ?col4)
    (row ?row1)
    (row ?row2)
    (row ?row3)
    (row ?row4)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4)
    (true (cell ?col1 ?row1 ?player))
    (true (cell ?col2 ?row2 ?player))
    (true (cell ?col3 ?row3 ?player))
    (true (cell ?col4 ?row4 ?player)))

(<= (four_in_a_row ?player)
    (role ?player)
    (column ?col1)
    (column ?col2)
    (column ?col3)
    (column ?col4)
    (row ?row1)
    (row ?row2)
    (row ?row3)
    (row ?row4)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row4 ?row3)
    (succ ?row3 ?row2)
    (succ ?row2 ?row1)
    (true (cell ?col1 ?row1 ?player))
    (true (cell ?col2 ?row2 ?player))
    (true (cell ?col3 ?row3 ?player))
    (true (cell ?col4 ?row4 ?player)))

(assists red yellow)
(assists yellow blue)
(assists blue red)

(column 1)
(column 2)
(column 3)
(column 4)
(column 5)
(column 6)
(column 7)
(column 8)

(row 1)
(row 2)
(row 3)
(row 4)
(row 5)
(row 6)

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)