(role crosser)
(role blocker)

(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))

(index 1)
(index 2)
(index 3)
(index 4)

(<= (legal crosser (mark ?x ?y))
    (true (cell ?x ?y b))
    (index ?x)
    (index ?y))

(<= (legal blocker (mark ?x ?y))
    (true (cell ?x ?y b))
    (index ?x)
    (index ?y))

(<= (legal crosser noop)
    (not (exists (?x ?y) (legal crosser (mark ?x ?y)))))

(<= (legal blocker noop)
    (not (exists (?x ?y) (legal blocker (mark ?x ?y)))))

(<= (next (cell ?x ?y c))
    (does crosser (mark ?x ?y))
    (true (cell ?x ?y b))
    (index ?x)
    (index ?y))

(<= (next (cell ?x ?y b))
    (true (cell ?x ?y b))
    (not (does crosser (mark ?x ?y)))
    (not (does blocker (mark ?x ?y)))
    (index ?x)
    (index ?y))

(<= (next (cell ?x ?y x))
    (does blocker (mark ?x ?y))
    (true (cell ?x ?y b))
    (index ?x)
    (index ?y))

(<= (next (cell ?x ?y ?v))
    (true (cell ?x ?y ?v))
    (distinct ?v b)
    (index ?x)
    (index ?y))

(<= (connected ?x 4)
    (true (cell ?x 4 c))
    (index ?x))

(<= (connected ?x ?y)
    (true (cell ?x ?y c))
    (connected ?x ?z)
    (succ ?z ?y)
    (index ?x)
    (index ?y)
    (index ?z))

(<= (succ 1 2))
(<= (succ 2 3))
(<= (succ 3 4))

(<= terminal
    (exists (?x) (connected ?x 1)))

(<= terminal
    (not (exists (?x ?y) (true (cell ?x ?y b)))))

(<= (goal crosser 100)
    (exists (?x) (connected ?x 1)))

(<= (goal blocker 0)
    (exists (?x) (connected ?x 1)))

(<= (goal crosser 0)
    (not (exists (?x) (connected ?x 1)))
    (not (exists (?x ?y) (true (cell ?x ?y b)))))

(<= (goal blocker 100)
    (not (exists (?x) (connected ?x 1)))
    (not (exists (?x ?y) (true (cell ?x ?y b)))))