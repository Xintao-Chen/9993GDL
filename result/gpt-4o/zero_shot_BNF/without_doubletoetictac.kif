(role xplayer)
(role oplayer)

(init (control xplayer))
(init (board1 a blank))
(init (board1 b blank))
(init (board1 c blank))
(init (board1 d blank))
(init (board1 e blank))
(init (board1 f blank))
(init (board1 g blank))
(init (board1 h blank))
(init (board1 i blank))
(init (board2 a blank))
(init (board2 b blank))
(init (board2 c blank))
(init (board2 d blank))
(init (board2 e blank))
(init (board2 f blank))
(init (board2 g blank))
(init (board2 h blank))
(init (board2 i blank))

(<= (legal ?player (mark ?board ?pos))
    (role ?player)
    (control ?player)
    (board ?board)
    (position ?pos)
    (true (control ?player))
    (true (?board ?pos blank))
    (not (line ?board x))
    (not (line ?board o)))

(<= (legal ?player noop)
    (role ?player)
    (control ?player)
    (or (line board1 x)
        (line board1 o)
        (line board2 x)
        (line board2 o)))

(<= (next (control xplayer))
    (true (control oplayer)))

(<= (next (control oplayer))
    (true (control xplayer)))

(<= (next (?board ?pos x))
    (does xplayer (mark ?board ?pos))
    (true (?board ?pos blank)))

(<= (next (?board ?pos o))
    (does oplayer (mark ?board ?pos))
    (true (?board ?pos blank)))

(<= (next (?board ?pos ?mark))
    (true (?board ?pos ?mark))
    (not (does xplayer (mark ?board ?pos)))
    (not (does oplayer (mark ?board ?pos))))

(<= (line ?board ?mark)
    (true (?board a ?mark))
    (true (?board b ?mark))
    (true (?board c ?mark)))

(<= (line ?board ?mark)
    (true (?board d ?mark))
    (true (?board e ?mark))
    (true (?board f ?mark)))

(<= (line ?board ?mark)
    (true (?board g ?mark))
    (true (?board h ?mark))
    (true (?board i ?mark)))

(<= (line ?board ?mark)
    (true (?board a ?mark))
    (true (?board d ?mark))
    (true (?board g ?mark)))

(<= (line ?board ?mark)
    (true (?board b ?mark))
    (true (?board e ?mark))
    (true (?board h ?mark)))

(<= (line ?board ?mark)
    (true (?board c ?mark))
    (true (?board f ?mark))
    (true (?board i ?mark)))

(<= (line ?board ?mark)
    (true (?board a ?mark))
    (true (?board e ?mark))
    (true (?board i ?mark)))

(<= (line ?board ?mark)
    (true (?board c ?mark))
    (true (?board e ?mark))
    (true (?board g ?mark)))

(<= (terminal)
    (or (and (line board1 x) (line board2 x))
        (and (line board1 o) (line board2 o))
        (not (exists ?pos (true (board1 ?pos blank))))
        (not (exists ?pos (true (board2 ?pos blank)))))

(<= (goal xplayer 100)
    (line board1 x)
    (line board2 x))

(<= (goal oplayer 100)
    (line board1 o)
    (line board2 o))

(<= (goal xplayer 75)
    (line board1 x)
    (not (line board2 x))
    (not (line board2 o)))

(<= (goal oplayer 75)
    (line board2 o)
    (not (line board1 x))
    (not (line board1 o)))

(<= (goal xplayer 25)
    (line board2 o)
    (not (line board1 x))
    (not (line board1 o)))

(<= (goal oplayer 25)
    (line board1 x)
    (not (line board2 x))
    (not (line board2 o)))

(<= (goal xplayer 50)
    (not (exists ?pos (true (board1 ?pos blank))))
    (not (exists ?pos (true (board2 ?pos blank))))
    (not (line board1 x))
    (not (line board1 o))
    (not (line board2 x))
    (not (line board2 o)))

(<= (goal oplayer 50)
    (not (exists ?pos (true (board1 ?pos blank))))
    (not (exists ?pos (true (board2 ?pos blank))))
    (not (line board1 x))
    (not (line board1 o))
    (not (line board2 x))
    (not (line board2 o)))

(board board1)
(board board2)

(position a)
(position b)
(position c)
(position d)
(position e)
(position f)
(position g)
(position h)
(position i)