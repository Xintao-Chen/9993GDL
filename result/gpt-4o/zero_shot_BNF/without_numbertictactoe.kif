(role odd)
(role even)

(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (control odd))

(index 1)
(index 2)
(index 3)

(number 1)
(number 2)
(number 3)
(number 4)
(number 5)
(number 6)
(number 7)
(number 8)
(number 9)

(<= (legal ?player (mark ?m ?n ?x))
    (role ?player)
    (index ?m)
    (index ?n)
    (number ?x)
    (true (control ?player))
    (true (cell ?m ?n b))
    (or (and (role odd) (oddNumber ?x))
        (and (role even) (evenNumber ?x))))

(<= (legal ?player noop)
    (role ?player)
    (not (exists (?m ?n ?x)
        (legal ?player (mark ?m ?n ?x)))))

(<= (next (cell ?m ?n ?x))
    (does ?player (mark ?m ?n ?x)))

(<= (next (cell ?m ?n ?v))
    (true (cell ?m ?n ?v))
    (not (does ?player (mark ?m ?n ?x))))

(<= (next (control even))
    (true (control odd)))

(<= (next (control odd))
    (true (control even)))

(<= (terminal)
    (line))

(<= (terminal)
    (not (exists (?m ?n)
        (true (cell ?m ?n b)))))

(<= (goal odd 100)
    (line)
    (true (control even)))

(<= (goal even 100)
    (line)
    (true (control odd)))

(<= (goal odd 0)
    (line)
    (true (control odd)))

(<= (goal even 0)
    (line)
    (true (control even)))

(<= (goal odd 50)
    (not (line))
    (not (exists (?m ?n)
        (true (cell ?m ?n b)))))

(<= (goal even 50)
    (not (line))
    (not (exists (?m ?n)
        (true (cell ?m ?n b)))))

(<= (line)
    (row ?m)
    (column ?n)
    (diagonal))

(<= (row ?m)
    (index ?m)
    (sumLine ?m 1 1 2 1 3 1))

(<= (column ?n)
    (index ?n)
    (sumLine 1 ?n 2 ?n 3 ?n))

(<= (diagonal)
    (sumLine 1 1 2 2 3 3))

(<= (diagonal)
    (sumLine 1 3 2 2 3 1))

(<= (sumLine ?m1 ?n1 ?m2 ?n2 ?m3 ?n3)
    (true (cell ?m1 ?n1 ?x1))
    (true (cell ?m2 ?n2 ?x2))
    (true (cell ?m3 ?n3 ?x3))
    (plus ?x1 ?x2 ?x3 15))

(<= (oddNumber ?x)
    (or (distinct ?x 2)
        (distinct ?x 4)
        (distinct ?x 6)
        (distinct ?x 8)))

(<= (evenNumber ?x)
    (or (distinct ?x 1)
        (distinct ?x 3)
        (distinct ?x 5)
        (distinct ?x 7)
        (distinct ?x 9)))

(<= (plus 1 1 2))
(<= (plus 1 2 3))
(<= (plus 1 3 4))
(<= (plus 1 4 5))
(<= (plus 1 5 6))
(<= (plus 1 6 7))
(<= (plus 1 7 8))
(<= (plus 1 8 9))
(<= (plus 2 1 3))
(<= (plus 2 2 4))
(<= (plus 2 3 5))
(<= (plus 2 4 6))
(<= (plus 2 5 7))
(<= (plus 2 6 8))
(<= (plus 2 7 9))
(<= (plus 3 1 4))
(<= (plus 3 2 5))
(<= (plus 3 3 6))
(<= (plus 3 4 7))
(<= (plus 3 5 8))
(<= (plus 3 6 9))
(<= (plus 4 1 5))
(<= (plus 4 2 6))
(<= (plus 4 3 7))
(<= (plus 4 4 8))
(<= (plus 4 5 9))
(<= (plus 5 1 6))
(<= (plus 5 2 7))
(<= (plus 5 3 8))
(<= (plus 5 4 9))
(<= (plus 6 1 7))
(<= (plus 6 2 8))
(<= (plus 6 3 9))
(<= (plus 7 1 8))
(<= (plus 7 2 9))
(<= (plus 8 1 9))