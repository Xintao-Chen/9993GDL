(role flipper)
(role caller)

(init (score flipper 0))
(init (score caller 0))
(init (step 0))

(<= (legal flipper heads)
    (true (step ?s)))
(<= (legal flipper tails)
    (true (step ?s)))
(<= (legal flipper neither)
    (true (step ?s)))

(<= (legal caller heads)
    (true (step ?s)))
(<= (legal caller tails)
    (true (step ?s)))
(<= (legal caller neither)
    (true (step ?s)))

(<= (next (score flipper ?newScore))
    (does flipper heads)
    (does caller heads)
    (true (score flipper ?score))
    (plus ?score 0 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper tails)
    (does caller tails)
    (true (score flipper ?score))
    (plus ?score 0 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper heads)
    (does caller tails)
    (true (score flipper ?score))
    (plus ?score 10 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper tails)
    (does caller heads)
    (true (score flipper ?score))
    (plus ?score 10 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper neither)
    (does caller neither)
    (true (score flipper ?score))
    (plus ?score 1 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper neither)
    (does caller heads)
    (true (score flipper ?score))
    (plus ?score 9 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper neither)
    (does caller tails)
    (true (score flipper ?score))
    (plus ?score 9 ?newScore))

(<= (next (score caller ?newScore))
    (does flipper heads)
    (does caller heads)
    (true (score caller ?score))
    (plus ?score 10 ?newScore))
(<= (next (score caller ?newScore))
    (does flipper tails)
    (does caller tails)
    (true (score caller ?score))
    (plus ?score 10 ?newScore))
(<= (next (score caller ?newScore))
    (does flipper heads)
    (does caller tails)
    (true (score caller ?score))
    (plus ?score 0 ?newScore))
(<= (next (score caller ?newScore))
    (does flipper tails)
    (does caller heads)
    (true (score caller ?score))
    (plus ?score 0 ?newScore))
(<= (next (score caller ?newScore))
    (does flipper neither)
    (does caller neither)
    (true (score caller ?score))
    (plus ?score 1 ?newScore))
(<= (next (score caller ?newScore))
    (does flipper heads)
    (does caller neither)
    (true (score caller ?score))
    (plus ?score 9 ?newScore))
(<= (next (score caller ?newScore))
    (does flipper tails)
    (does caller neither)
    (true (score caller ?score))
    (plus ?score 9 ?newScore))

(<= (next (step ?nextStep))
    (true (step ?s))
    (succ ?s ?nextStep))

(<= terminal
    (true (step 10)))

(<= (goal flipper 100)
    (true (step 10))
    (true (score flipper ?fScore))
    (true (score caller ?cScore))
    (greater ?fScore ?cScore))
(<= (goal flipper 50)
    (true (step 10))
    (true (score flipper ?fScore))
    (true (score caller ?cScore))
    (not (greater ?fScore ?cScore))
    (not (greater ?cScore ?fScore)))
(<= (goal flipper 0)
    (true (step 10))
    (true (score flipper ?fScore))
    (true (score caller ?cScore))
    (greater ?cScore ?fScore))

(<= (goal caller 100)
    (true (step 10))
    (true (score caller ?cScore))
    (true (score flipper ?fScore))
    (greater ?cScore ?fScore))
(<= (goal caller 50)
    (true (step 10))
    (true (score caller ?cScore))
    (true (score flipper ?fScore))
    (not (greater ?cScore ?fScore))
    (not (greater ?fScore ?cScore)))
(<= (goal caller 0)
    (true (step 10))
    (true (score caller ?cScore))
    (true (score flipper ?fScore))
    (greater ?fScore ?cScore))

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)

(<= (greater ?x ?y)
    (succ ?y ?x))