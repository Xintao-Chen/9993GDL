(role player)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)

(init (step 0))

; Initial configuration of the board
(init (light 1 1))
(init (nolight 1 2))
(init (light 1 3))
(init (nolight 1 4))
(init (light 1 5))
(init (nolight 2 1))
(init (light 2 2))
(init (nolight 2 3))
(init (light 2 4))
(init (nolight 2 5))
(init (light 3 1))
(init (nolight 3 2))
(init (light 3 3))
(init (nolight 3 4))
(init (light 3 5))
(init (nolight 4 1))
(init (light 4 2))
(init (nolight 4 3))
(init (light 4 4))
(init (nolight 4 5))
(init (light 5 1))
(init (nolight 5 2))
(init (light 5 3))
(init (nolight 5 4))
(init (light 5 5))

(<= (legal player noop)
    true)
(<= (legal player (switch ?x ?y))
    (index ?x)
    (index ?y))

(<= (next (light ?x ?y))
    (does player (switch ?x ?y))
    (true (nolight ?x ?y)))
(<= (next (nolight ?x ?y))
    (does player (switch ?x ?y))
    (true (light ?x ?y)))
(<= (next (light ?x ?y))
    (true (light ?x ?y))
    (not (does player (switch ?x ?y))))
(<= (next (nolight ?x ?y))
    (true (nolight ?x ?y))
    (not (does player (switch ?x ?y))))

(<= (next (light ?x ?y))
    (does player (switch ?sx ?sy))
    (adjacent ?sx ?sy ?x ?y)
    (true (nolight ?x ?y)))
(<= (next (nolight ?x ?y))
    (does player (switch ?sx ?sy))
    (adjacent ?sx ?sy ?x ?y)
    (true (light ?x ?y)))

(<= (next (step ?next))
    (true (step ?current))
    (succ ?current ?next))

(<= terminal
    (true (step 20)))
(<= terminal
    (not lighton))

(<= (goal player 100)
    (not lighton))
(<= (goal player 0)
    lighton)

(<= lighton
    (index ?x)
    (index ?y)
    (true (light ?x ?y)))

(<= (adjacent ?x1 ?y ?x2 ?y)
    (index ?x1)
    (index ?x2)
    (index ?y)
    (succ ?x1 ?x2))
(<= (adjacent ?x1 ?y ?x2 ?y)
    (index ?x1)
    (index ?x2)
    (index ?y)
    (succ ?x2 ?x1))
(<= (adjacent ?x ?y1 ?x ?y2)
    (index ?x)
    (index ?y1)
    (index ?y2)
    (succ ?y1 ?y2))
(<= (adjacent ?x ?y1 ?x ?y2)
    (index ?x)
    (index ?y1)
    (index ?y2)
    (succ ?y2 ?y1))

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)
(succ 10 11)
(succ 11 12)
(succ 12 13)
(succ 13 14)
(succ 14 15)
(succ 15 16)
(succ 16 17)
(succ 17 18)
(succ 18 19)
(succ 19 20)