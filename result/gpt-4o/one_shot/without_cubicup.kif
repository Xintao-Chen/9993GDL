(role yellow)
(role red)

(index 0)
(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)

(init (control yellow))
(init (cubes yellow 28))
(init (cubes red 28))

(<= (legal yellow noop)
    (true (control red)))
(<= (legal yellow (place ?x ?y ?z))
    (true (control yellow))
    (cubes yellow ?n)
    (succ ?n ?m)
    (empty ?x ?y ?z)
    (filledBelow ?x ?y ?z))
(<= (legal red noop)
    (true (control yellow)))
(<= (legal red (place ?x ?y ?z))
    (true (control red))
    (cubes red ?n)
    (succ ?n ?m)
    (empty ?x ?y ?z)
    (filledBelow ?x ?y ?z))

(<= (next (cube ?x ?y ?z yellow))
    (does yellow (place ?x ?y ?z)))
(<= (next (cube ?x ?y ?z red))
    (does red (place ?x ?y ?z)))
(<= (next (cubes yellow ?m))
    (true (cubes yellow ?n))
    (does yellow (place ?x ?y ?z))
    (succ ?m ?n))
(<= (next (cubes red ?m))
    (true (cubes red ?n))
    (does red (place ?x ?y ?z))
    (succ ?m ?n))
(<= (next (control yellow))
    (true (control red)))
(<= (next (control red))
    (true (control yellow)))

(<= terminal
    (true (cube 6 6 6 ?player)))

(<= (goal yellow 100)
    (true (cube 6 6 6 yellow))
    (not (cubicup 6 6 6 red)))
(<= (goal yellow 50)
    (true (cube 6 6 6 red))
    (cubicup 6 6 6 red))
(<= (goal yellow 0)
    (true (cube 6 6 6 red))
    (not (cubicup 6 6 6 red)))
(<= (goal red 100)
    (true (cube 6 6 6 red))
    (not (cubicup 6 6 6 yellow)))
(<= (goal red 50)
    (true (cube 6 6 6 yellow))
    (cubicup 6 6 6 yellow))
(<= (goal red 0)
    (true (cube 6 6 6 yellow))
    (not (cubicup 6 6 6 yellow)))

(<= (empty ?x ?y ?z)
    (index ?x)
    (index ?y)
    (index ?z)
    (not (true (cube ?x ?y ?z yellow)))
    (not (true (cube ?x ?y ?z red))))

(<= (filledBelow ?x ?y ?z)
    (index ?x)
    (index ?y)
    (index ?z)
    (or (true (cube ?x ?y (succ ?z) ?player))
        (zero ?z)))

(<= (cubicup ?x ?y ?z ?player)
    (index ?x)
    (index ?y)
    (index ?z)
    (true (cube ?x ?y ?z ?player))
    (true (cube (succ ?x) ?y ?z ?player))
    (true (cube ?x (succ ?y) ?z ?player))
    (true (cube ?x ?y (succ ?z) ?player)))

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)

(zero 0)