(role black)
(role white)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)
(index 9)
(index 10)
(index 11)
(index 12)
(index 13)
(index 14)
(index 15)

(init (control black))

(<= (legal black noop)
    (true (control white)))
(<= (legal black (place ?i ?j))
    (true (control black))
    (emptyCell ?i ?j))
(<= (legal white noop)
    (true (control black)))
(<= (legal white (place ?i ?j))
    (true (control white))
    (emptyCell ?i ?j))

(<= (next (mark ?i ?j ?color))
    (role ?player)
    (does ?player (place ?i ?j))
    (roleColor ?player ?color))
(<= (next (mark ?i ?j ?color))
    (true (mark ?i ?j ?color)))
(<= (next (control black))
    (true (control white)))
(<= (next (control white))
    (true (control black)))

(<= terminal
    (line black))
(<= terminal
    (line white))
(<= terminal
    (not open))

(<= (goal black 100)
    (line black))
(<= (goal black 50)
    (not (line black))
    (not (line white))
    (not open))
(<= (goal black 0)
    (line white))
(<= (goal black 0)
    (not (line black))
    (not (line white))
    open)
(<= (goal white 100)
    (line white))
(<= (goal white 50)
    (not (line black))
    (not (line white))
    (not open))
(<= (goal white 0)
    (line black))
(<= (goal white 0)
    (not (line black))
    (not (line white))
    open)

(<= (row ?i ?start ?color)
    (index ?start)
    (succ ?start ?next1)
    (succ ?next1 ?next2)
    (succ ?next2 ?next3)
    (succ ?next3 ?next4)
    (true (mark ?i ?start ?color))
    (true (mark ?i ?next1 ?color))
    (true (mark ?i ?next2 ?color))
    (true (mark ?i ?next3 ?color))
    (true (mark ?i ?next4 ?color)))
(<= (col ?j ?start ?color)
    (index ?start)
    (succ ?start ?next1)
    (succ ?next1 ?next2)
    (succ ?next2 ?next3)
    (succ ?next3 ?next4)
    (true (mark ?start ?j ?color))
    (true (mark ?next1 ?j ?color))
    (true (mark ?next2 ?j ?color))
    (true (mark ?next3 ?j ?color))
    (true (mark ?next4 ?j ?color)))
(<= (diag1 ?startI ?startJ ?color)
    (index ?startI)
    (index ?startJ)
    (succ ?startI ?nextI1)
    (succ ?nextI1 ?nextI2)
    (succ ?nextI2 ?nextI3)
    (succ ?nextI3 ?nextI4)
    (succ ?startJ ?nextJ1)
    (succ ?nextJ1 ?nextJ2)
    (succ ?nextJ2 ?nextJ3)
    (succ ?nextJ3 ?nextJ4)
    (true (mark ?startI ?startJ ?color))
    (true (mark ?nextI1 ?nextJ1 ?color))
    (true (mark ?nextI2 ?nextJ2 ?color))
    (true (mark ?nextI3 ?nextJ3 ?color))
    (true (mark ?nextI4 ?nextJ4 ?color)))
(<= (diag2 ?startI ?startJ ?color)
    (index ?startI)
    (index ?startJ)
    (succ ?startI ?nextI1)
    (succ ?nextI1 ?nextI2)
    (succ ?nextI2 ?nextI3)
    (succ ?nextI3 ?nextI4)
    (pred ?startJ ?nextJ1)
    (pred ?nextJ1 ?nextJ2)
    (pred ?nextJ2 ?nextJ3)
    (pred ?nextJ3 ?nextJ4)
    (true (mark ?startI ?startJ ?color))
    (true (mark ?nextI1 ?nextJ1 ?color))
    (true (mark ?nextI2 ?nextJ2 ?color))
    (true (mark ?nextI3 ?nextJ3 ?color))
    (true (mark ?nextI4 ?nextJ4 ?color)))

(<= (line ?color)
    (index ?i)
    (index ?start)
    (row ?i ?start ?color))
(<= (line ?color)
    (index ?j)
    (index ?start)
    (col ?j ?start ?color))
(<= (line ?color)
    (index ?startI)
    (index ?startJ)
    (diag1 ?startI ?startJ ?color))
(<= (line ?color)
    (index ?startI)
    (index ?startJ)
    (diag2 ?startI ?startJ ?color))

(<= (emptyCell ?i ?j)
    (index ?i)
    (index ?j)
    (not (true (mark ?i ?j black)))
    (not (true (mark ?i ?j white))))
(<= open
    (emptyCell ?i ?j))

(<= (roleColor black black))
(<= (roleColor white white))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)
(succ 10 11)
(succ 11 12)
(succ 12 13)
(succ 13 14)
(succ 14 15)

(pred 15 14)
(pred 14 13)
(pred 13 12)
(pred 12 11)
(pred 11 10)
(pred 10 9)
(pred 9 8)
(pred 8 7)
(pred 7 6)
(pred 6 5)
(pred 5 4)
(pred 4 3)
(pred 3 2)
(pred 2 1)