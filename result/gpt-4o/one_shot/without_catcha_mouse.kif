(role mouse)
(role catcher)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)
(index 9)

(column a)
(column b)
(column c)
(column d)
(column e)
(column f)
(column g)
(column h)

(init (control catcher))
(init (mousePosition 7 1))
(init (turn 1))

(<= (legal mouse noop)
    (true (control catcher)))
(<= (legal mouse (move ?i ?j))
    (true (control mouse))
    (mousePosition ?mi ?mj)
    (adjacent ?mi ?mj ?i ?j)
    (emptyCell ?i ?j))
(<= (legal catcher noop)
    (true (control mouse)))
(<= (legal catcher (placeTrap ?i ?j))
    (true (control catcher))
    (emptyCell ?i ?j))

(<= (next (mousePosition ?i ?j))
    (does mouse (move ?i ?j)))
(<= (next (mousePosition ?i ?j))
    (true (mousePosition ?i ?j))
    (not (does mouse (move ?a ?b))))
(<= (next (trap ?i ?j))
    (does catcher (placeTrap ?i ?j)))
(<= (next (trap ?i ?j))
    (true (trap ?i ?j)))
(<= (next (control mouse))
    (true (control catcher)))
(<= (next (control catcher))
    (true (control mouse)))
(<= (next (turn ?next))
    (true (turn ?current))
    (succ ?current ?next))

(<= terminal
    (mouseCaught))
(<= terminal
    (mouseEscaped))
(<= terminal
    (true (turn 20)))

(<= (goal mouse 100)
    (mouseEscaped))
(<= (goal mouse 0)
    (mouseCaught))
(<= (goal catcher 100)
    (mouseCaught))
(<= (goal catcher 0)
    (mouseEscaped))

(<= (mouseCaught)
    (mousePosition ?i ?j)
    (true (trap ?i ?j)))

(<= (mouseEscaped)
    (mousePosition ?i ?j)
    (hole ?i ?j))

(<= (emptyCell ?i ?j)
    (index ?i)
    (column ?j)
    (not (true (mousePosition ?i ?j)))
    (not (true (trap ?i ?j))))

(<= (adjacent ?i ?j ?x ?y)
    (index ?i)
    (index ?x)
    (column ?j)
    (column ?y)
    (or (and (succ ?i ?x) (sameColumn ?j ?y))
        (and (succ ?x ?i) (sameColumn ?j ?y))
        (and (sameRow ?i ?x) (succColumn ?j ?y))
        (and (sameRow ?i ?x) (succColumn ?y ?j))))

(<= (sameRow ?i ?x)
    (index ?i)
    (index ?x)
    (or (succ ?i ?x) (succ ?x ?i)))

(<= (sameColumn ?j ?y)
    (column ?j)
    (column ?y)
    (or (succColumn ?j ?y) (succColumn ?y ?j)))

(<= (succ 1 2))
(<= (succ 2 3))
(<= (succ 3 4))
(<= (succ 4 5))
(<= (succ 5 6))
(<= (succ 6 7))
(<= (succ 7 8))
(<= (succ 8 9))

(<= (succColumn a b))
(<= (succColumn b c))
(<= (succColumn c d))
(<= (succColumn d e))
(<= (succColumn e f))
(<= (succColumn f g))
(<= (succColumn g h))

(hole 1 a)
(hole 9 h)