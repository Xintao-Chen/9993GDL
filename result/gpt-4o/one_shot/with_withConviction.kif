(role red)
(role blue)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)

(shade weak)
(shade medium)
(shade strong)

(init (control red))
(init (allowedShade red weak))
(init (allowedShade red medium))
(init (allowedShade red strong))
(init (allowedShade blue weak))
(init (allowedShade blue medium))
(init (allowedShade blue strong))

(<= (legal red noop)
    (true (control blue)))
(<= (legal red (mark ?i ?j ?shade))
    (true (control red))
    (emptyCell ?i ?j)
    (true (allowedShade red ?shade)))
(<= (legal blue noop)
    (true (control red)))
(<= (legal blue (mark ?i ?j ?shade))
    (true (control blue))
    (emptyCell ?i ?j)
    (true (allowedShade blue ?shade)))

(<= (next (mark ?i ?j ?shade red))
    (does red (mark ?i ?j ?shade)))
(<= (next (mark ?i ?j ?shade blue))
    (does blue (mark ?i ?j ?shade)))
(<= (next (mark ?i ?j ?shade ?player))
    (true (mark ?i ?j ?shade ?player)))

(<= (next (control red))
    (true (control blue)))
(<= (next (control blue))
    (true (control red)))

(<= (next (allowedShade red weak))
    (true (allowedShade red weak)))
(<= (next (allowedShade red medium))
    (true (allowedShade red medium))
    (not (does red (mark ?i ?j weak))))
(<= (next (allowedShade red strong))
    (true (allowedShade red strong))
    (not (does red (mark ?i ?j weak))))
(<= (next (allowedShade blue weak))
    (true (allowedShade blue weak)))
(<= (next (allowedShade blue medium))
    (true (allowedShade blue medium))
    (not (does blue (mark ?i ?j weak))))
(<= (next (allowedShade blue strong))
    (true (allowedShade blue strong))
    (not (does blue (mark ?i ?j weak))))

(<= terminal
    (line red))
(<= terminal
    (line blue))
(<= terminal
    (not open))

(<= (goal red 100)
    (line red))
(<= (goal red 50)
    (not (line red))
    (not (line blue))
    (not open))
(<= (goal red 0)
    (line blue))
(<= (goal red 0)
    (not (line red))
    (not (line blue))
    open)
(<= (goal blue 100)
    (line blue))
(<= (goal blue 50)
    (not (line red))
    (not (line blue))
    (not open))
(<= (goal blue 0)
    (line red))
(<= (goal blue 0)
    (not (line red))
    (not (line blue))
    open)

(<= (row ?i ?player)
    (index ?j)
    (true (mark ?i ?j ?shade ?player)))
(<= (col ?j ?player)
    (index ?i)
    (true (mark ?i ?j ?shade ?player)))

(<= (line ?player)
    (index ?i)
    (row ?i ?player))
(<= (line ?player)
    (index ?j)
    (col ?j ?player))

(<= (emptyCell ?i ?j)
    (index ?i)
    (index ?j)
    (not (true (mark ?i ?j ?shade ?player))))
(<= open
    (emptyCell ?i ?j))