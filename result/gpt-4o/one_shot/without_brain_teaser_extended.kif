(role player)

(index 1)
(index 2)
(index 3)

(init (step 0))
(init (cell 1 1 yellow))
(init (cell 1 2 yellow))
(init (cell 1 3 yellow))
(init (cell 2 1 yellow))
(init (cell 2 2 yellow))
(init (cell 2 3 yellow))
(init (cell 3 1 yellow))
(init (cell 3 2 yellow))
(init (cell 3 3 yellow))

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)
(succ 10 11)
(succ 11 12)
(succ 12 13)
(succ 13 14)
(succ 14 15)

(<= (legal player noop)
    (true (step 15)))

(<= (legal player (select ?x ?y))
    (index ?x)
    (index ?y)
    (true (cell ?x ?y yellow))
    (not (all_orange)))

(<= (legal player celebrate)
    (all_orange))

(<= (next (cell ?x ?y orange))
    (does player (select ?x ?y))
    (true (cell ?x ?y yellow)))

(<= (next (cell ?x ?y yellow))
    (does player (select ?x ?y))
    (true (cell ?x ?y orange)))

(<= (next (cell ?x ?y ?color))
    (true (cell ?x ?y ?color))
    (not (does player (select ?x ?y))))

(<= (next (step ?next))
    (true (step ?current))
    (succ ?current ?next))

(<= terminal
    (true (step 15)))
(<= terminal
    (all_orange))

(<= (goal player 100)
    (true (step 10))
    (all_orange))
(<= (goal player 80)
    (not (true (step 10)))
    (all_orange))
(<= (goal player 40)
    (true (cell 1 1 orange))
    (not (all_orange)))
(<= (goal player 0)
    (not (true (cell 1 1 orange)))
    (not (all_orange)))

(<= (all_orange)
    (not (exists ?x ?y (true (cell ?x ?y yellow)))))

(<= (adjacent ?x1 ?y1 ?x2 ?y2)
    (index ?x1)
    (index ?y1)
    (index ?x2)
    (index ?y2)
    (or (and (succ ?x1 ?x2) (true (cell ?x2 ?y1 ?color)))
        (and (succ ?x2 ?x1) (true (cell ?x2 ?y1 ?color)))
        (and (succ ?y1 ?y2) (true (cell ?x1 ?y2 ?color)))
        (and (succ ?y2 ?y1) (true (cell ?x1 ?y2 ?color)))))

(<= (exists ?x ?y (true (cell ?x ?y yellow)))
    (index ?x)
    (index ?y)
    (true (cell ?x ?y yellow)))