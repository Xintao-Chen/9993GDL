(role odd)
(role even)

(index 1)
(index 2)
(index 3)

(init (control odd))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))

(<= (legal odd noop)
    (true (control even)))
(<= (legal odd (mark ?m ?n ?x))
    (true (control odd))
    (oddNumber ?x)
    (blankCell ?m ?n))
(<= (legal even noop)
    (true (control odd)))
(<= (legal even (mark ?m ?n ?x))
    (true (control even))
    (evenNumber ?x)
    (blankCell ?m ?n))

(<= (next (cell ?m ?n ?x))
    (does ?player (mark ?m ?n ?x)))
(<= (next (cell ?m ?n ?x))
    (true (cell ?m ?n ?x))
    (not (does ?player (mark ?m ?n ?x))))
(<= (next (control odd))
    (true (control even)))
(<= (next (control even))
    (true (control odd)))

(<= terminal
    (line))
(<= terminal
    (not open))

(<= (goal odd 100)
    (line)
    (true (control even)))
(<= (goal odd 50)
    (not line)
    (not open))
(<= (goal odd 0)
    (line)
    (true (control odd)))
(<= (goal even 100)
    (line)
    (true (control odd)))
(<= (goal even 50)
    (not line)
    (not open))
(<= (goal even 0)
    (line)
    (true (control even)))

(<= (row ?m ?sum)
    (true (cell ?m 1 ?x1))
    (true (cell ?m 2 ?x2))
    (true (cell ?m 3 ?x3))
    (plus ?x1 ?x2 ?temp)
    (plus ?temp ?x3 ?sum))
(<= (col ?n ?sum)
    (true (cell 1 ?n ?x1))
    (true (cell 2 ?n ?x2))
    (true (cell 3 ?n ?x3))
    (plus ?x1 ?x2 ?temp)
    (plus ?temp ?x3 ?sum))
(<= (diag1 ?sum)
    (true (cell 1 1 ?x1))
    (true (cell 2 2 ?x2))
    (true (cell 3 3 ?x3))
    (plus ?x1 ?x2 ?temp)
    (plus ?temp ?x3 ?sum))
(<= (diag2 ?sum)
    (true (cell 1 3 ?x1))
    (true (cell 2 2 ?x2))
    (true (cell 3 1 ?x3))
    (plus ?x1 ?x2 ?temp)
    (plus ?temp ?x3 ?sum))

(<= (line)
    (index ?m)
    (row ?m 15))
(<= (line)
    (index ?n)
    (col ?n 15))
(<= (line)
    (diag1 15))
(<= (line)
    (diag2 15))

(<= (blankCell ?m ?n)
    (index ?m)
    (index ?n)
    (true (cell ?m ?n b)))

(<= open
    (blankCell ?m ?n))

(oddNumber 1)
(oddNumber 3)
(oddNumber 5)
(oddNumber 7)
(oddNumber 9)

(evenNumber 2)
(evenNumber 4)
(evenNumber 6)
(evenNumber 8)