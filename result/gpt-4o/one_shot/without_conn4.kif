(role white)
(role black)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)

(init (control white))

(<= (legal white noop)
    (true (control black)))
(<= (legal white (drop ?col))
    (true (control white))
    (column ?col)
    (open ?col))
(<= (legal black noop)
    (true (control white)))
(<= (legal black (drop ?col))
    (true (control black))
    (column ?col)
    (open ?col))

(<= (next (cell ?col ?row ?mark))
    (does ?player (drop ?col))
    (lowestEmpty ?col ?row)
    (role ?player)
    (playerMark ?player ?mark))
(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark))
    (not (does ?player (drop ?col)))
    (role ?player))

(<= (next (control white))
    (true (control black)))
(<= (next (control black))
    (true (control white)))

(<= terminal
    (connect4 x))
(<= terminal
    (connect4 o))
(<= terminal
    (not openColumn))

(<= (goal white 100)
    (connect4 x))
(<= (goal white 0)
    (connect4 o))
(<= (goal white 50)
    (not (connect4 x))
    (not (connect4 o))
    (not openColumn))
(<= (goal black 100)
    (connect4 o))
(<= (goal black 0)
    (connect4 x))
(<= (goal black 50)
    (not (connect4 x))
    (not (connect4 o))
    (not openColumn))

(<= (connect4 ?mark)
    (rowConnect4 ?mark))
(<= (connect4 ?mark)
    (colConnect4 ?mark))
(<= (connect4 ?mark)
    (diagConnect4 ?mark))

(<= (rowConnect4 ?mark)
    (index ?row)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (true (cell ?col1 ?row ?mark))
    (true (cell ?col2 ?row ?mark))
    (true (cell ?col3 ?row ?mark))
    (true (cell ?col4 ?row ?mark)))

(<= (colConnect4 ?mark)
    (index ?col)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4)
    (true (cell ?col ?row1 ?mark))
    (true (cell ?col ?row2 ?mark))
    (true (cell ?col ?row3 ?mark))
    (true (cell ?col ?row4 ?mark)))

(<= (diagConnect4 ?mark)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row1 ?row2)
    (succ ?row2 ?row3)
    (succ ?row3 ?row4)
    (true (cell ?col1 ?row1 ?mark))
    (true (cell ?col2 ?row2 ?mark))
    (true (cell ?col3 ?row3 ?mark))
    (true (cell ?col4 ?row4 ?mark)))

(<= (diagConnect4 ?mark)
    (succ ?col1 ?col2)
    (succ ?col2 ?col3)
    (succ ?col3 ?col4)
    (succ ?row4 ?row3)
    (succ ?row3 ?row2)
    (succ ?row2 ?row1)
    (true (cell ?col1 ?row4 ?mark))
    (true (cell ?col2 ?row3 ?mark))
    (true (cell ?col3 ?row2 ?mark))
    (true (cell ?col4 ?row1 ?mark)))

(<= (lowestEmpty ?col ?row)
    (index ?row)
    (openCell ?col ?row)
    (not (existsLowerEmpty ?col ?row)))

(<= (existsLowerEmpty ?col ?row)
    (succ ?lower ?row)
    (openCell ?col ?lower))

(<= (openCell ?col ?row)
    (true (cell ?col ?row b)))

(<= openColumn
    (column ?col)
    (open ?col))

(<= (open ?col)
    (index ?row)
    (openCell ?col ?row))

(column 1)
(column 2)
(column 3)
(column 4)
(column 5)
(column 6)
(column 7)

(playerMark white x)
(playerMark black o)

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)