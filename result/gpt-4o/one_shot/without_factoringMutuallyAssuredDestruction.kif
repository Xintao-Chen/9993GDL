(role player)

(indexX 1)
(indexX 2)
(indexY 1)
(indexY 2)
(indexY 3)
(indexY 4)
(indexY 5)
(indexY 6)
(indexY 7)
(indexY 8)
(indexY 9)
(indexY 10)

(init (counter 1))
(init (cell 1 1 0))
(init (cell 1 2 0))
(init (cell 1 3 0))
(init (cell 1 4 0))
(init (cell 1 5 0))
(init (cell 1 6 0))
(init (cell 1 7 0))
(init (cell 1 8 0))
(init (cell 1 9 0))
(init (cell 1 10 0))
(init (cell 2 1 0))
(init (cell 2 2 0))
(init (cell 2 3 0))
(init (cell 2 4 0))
(init (cell 2 5 0))
(init (cell 2 6 0))
(init (cell 2 7 0))
(init (cell 2 8 0))
(init (cell 2 9 0))
(init (cell 2 10 0))

(<= (legal player (press ?x ?y))
    (indexX ?x)
    (indexY ?y))

(<= (next (cell ?x ?y 4))
    (does player (press ?x ?y))
    (indexX ?x)
    (indexY ?y))

(<= (next (cell ?x ?y ?v))
    (true (cell ?x ?y ?v))
    (not (does player (press ?x ?y)))
    (succ ?v ?vNext))

(<= (next (cell ?x ?y 0))
    (true (cell ?x ?y 0))
    (not (does player (press ?x ?y))))

(<= (next (counter ?next))
    (true (counter ?current))
    (succ ?current ?next))

(<= terminal
    (true (counter 21)))
(<= terminal
    (lightson 9))

(<= (goal player 100)
    (lightson 9))
(<= (goal player 0)
    (not (lightson 9)))

(<= (lightson ?n)
    (countActiveCells ?n))

(<= (countActiveCells ?n)
    (indexX ?x)
    (indexY ?y)
    (true (cell ?x ?y 4))
    (succ 0 ?n))

(<= (succ 0 1))
(<= (succ 1 2))
(<= (succ 2 3))
(<= (succ 3 4))
(<= (succ 4 5))
(<= (succ 5 6))
(<= (succ 6 7))
(<= (succ 7 8))
(<= (succ 8 9))
(<= (succ 9 10))