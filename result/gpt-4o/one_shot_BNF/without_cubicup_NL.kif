(role yellow)
(role red)

(index 0)
(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)

(init (control yellow))
(init (cubes yellow 28))
(init (cubes red 28))

(<= (legal yellow noop)
    (true (control red)))
(<= (legal yellow (place ?x ?y ?z))
    (true (control yellow))
    (empty ?x ?y ?z)
    (onGroundOrCube ?x ?y ?z)
    (true (cubes yellow ?c))
    (distinct ?c 0))
(<= (legal red noop)
    (true (control yellow)))
(<= (legal red (place ?x ?y ?z))
    (true (control red))
    (empty ?x ?y ?z)
    (onGroundOrCube ?x ?y ?z)
    (true (cubes red ?c))
    (distinct ?c 0))

(<= (next (cube ?x ?y ?z yellow))
    (does yellow (place ?x ?y ?z)))
(<= (next (cube ?x ?y ?z red))
    (does red (place ?x ?y ?z)))
(<= (next (cubes yellow ?newC))
    (true (cubes yellow ?c))
    (does yellow (place ?x ?y ?z))
    (succ ?newC ?c))
(<= (next (cubes red ?newC))
    (true (cubes red ?c))
    (does red (place ?x ?y ?z))
    (succ ?newC ?c))
(<= (next (control yellow))
    (true (control red)))
(<= (next (control red))
    (true (control yellow)))

(<= terminal
    (true (cube 6 6 6 ?player)))

(<= (goal yellow 100)
    (true (cube 6 6 6 yellow))
    (not (cubicup 6 6 6 red)))
(<= (goal yellow 50)
    (true (cube 6 6 6 red))
    (cubicup 6 6 6 red))
(<= (goal yellow 0)
    (true (cube 6 6 6 red))
    (not (cubicup 6 6 6 red)))
(<= (goal red 100)
    (true (cube 6 6 6 red))
    (not (cubicup 6 6 6 yellow)))
(<= (goal red 50)
    (true (cube 6 6 6 yellow))
    (cubicup 6 6 6 yellow))
(<= (goal red 0)
    (true (cube 6 6 6 yellow))
    (not (cubicup 6 6 6 yellow)))

(<= (empty ?x ?y ?z)
    (index ?x)
    (index ?y)
    (index ?z)
    (not (true (cube ?x ?y ?z yellow)))
    (not (true (cube ?x ?y ?z red))))

(<= (onGroundOrCube ?x ?y ?z)
    (index ?x)
    (index ?y)
    (index ?z)
    (or (true (cube ?x ?y ?z-1 ?player))
        (and (true (cube ?x ?y ?z-1 ?player))
             (succ ?z-1 ?z))))

(<= (cubicup ?x ?y ?z ?player)
    (index ?x)
    (index ?y)
    (index ?z)
    (true (cube ?x ?y ?z ?player))
    (true (cube ?x ?y ?z-1 ?player))
    (true (cube ?x ?y ?z-2 ?player))
    (true (cube ?x ?y ?z-3 ?player)))

(<= (succ 0 1))
(<= (succ 1 2))
(<= (succ 2 3))
(<= (succ 3 4))
(<= (succ 4 5))
(<= (succ 5 6))