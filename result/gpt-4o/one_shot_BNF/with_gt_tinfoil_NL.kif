(role flipper)
(role caller)

(init (score flipper 0))
(init (score caller 0))
(init (step 0))

(<= (legal ?player heads)
    (role ?player))
(<= (legal ?player tails)
    (role ?player))
(<= (legal ?player neither)
    (role ?player))

(<= (next (score flipper ?newScore))
    (does flipper ?action)
    (does caller ?action)
    (true (score flipper ?score))
    (plus ?score 0 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper ?action1)
    (does caller ?action2)
    (distinct ?action1 ?action2)
    (true (score flipper ?score))
    (plus ?score 10 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper neither)
    (does caller ?action)
    (distinct ?action neither)
    (true (score flipper ?score))
    (plus ?score 9 ?newScore))
(<= (next (score flipper ?newScore))
    (does flipper neither)
    (does caller neither)
    (true (score flipper ?score))
    (plus ?score 1 ?newScore))

(<= (next (score caller ?newScore))
    (does flipper ?action)
    (does caller ?action)
    (true (score caller ?score))
    (plus ?score 10 ?newScore))
(<= (next (score caller ?newScore))
    (does flipper ?action1)
    (does caller ?action2)
    (distinct ?action1 ?action2)
    (true (score caller ?score))
    (plus ?score 0 ?newScore))
(<= (next (score caller ?newScore))
    (does caller neither)
    (does flipper ?action)
    (distinct ?action neither)
    (true (score caller ?score))
    (plus ?score 1 ?newScore))
(<= (next (score caller ?newScore))
    (does caller neither)
    (does flipper neither)
    (true (score caller ?score))
    (plus ?score 1 ?newScore))

(<= (next (step ?nextStep))
    (true (step ?step))
    (succ ?step ?nextStep))

(<= terminal
    (true (step 10)))

(<= (goal flipper 100)
    (true (score flipper ?fScore))
    (true (score caller ?cScore))
    (greater ?fScore ?cScore))
(<= (goal flipper 50)
    (true (score flipper ?fScore))
    (true (score caller ?cScore))
    (not (greater ?fScore ?cScore))
    (not (greater ?cScore ?fScore)))
(<= (goal flipper 0)
    (true (score flipper ?fScore))
    (true (score caller ?cScore))
    (greater ?cScore ?fScore))

(<= (goal caller 100)
    (true (score caller ?cScore))
    (true (score flipper ?fScore))
    (greater ?cScore ?fScore))
(<= (goal caller 50)
    (true (score caller ?cScore))
    (true (score flipper ?fScore))
    (not (greater ?cScore ?fScore))
    (not (greater ?fScore ?cScore)))
(<= (goal caller 0)
    (true (score caller ?cScore))
    (true (score flipper ?fScore))
    (greater ?fScore ?cScore))

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)

(<= (greater ?x ?y)
    (succ ?y ?x))