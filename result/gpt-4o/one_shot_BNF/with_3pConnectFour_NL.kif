(role red)
(role yellow)
(role blue)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)

(row 1)
(row 2)
(row 3)
(row 4)
(row 5)
(row 6)

(init (control red))

(<= (legal red noop)
    (true (control yellow)))
(<= (legal red noop)
    (true (control blue)))
(<= (legal red (drop ?col))
    (true (control red))
    (open ?col))
(<= (legal yellow noop)
    (true (control red)))
(<= (legal yellow noop)
    (true (control blue)))
(<= (legal yellow (drop ?col))
    (true (control yellow))
    (open ?col))
(<= (legal blue noop)
    (true (control red)))
(<= (legal blue noop)
    (true (control yellow)))
(<= (legal blue (drop ?col))
    (true (control blue))
    (open ?col))

(<= (next (cell ?col ?row ?player))
    (role ?player)
    (does ?player (drop ?col))
    (lowestEmpty ?col ?row))
(<= (next (cell ?col ?row ?mark))
    (true (cell ?col ?row ?mark)))
(<= (next (control yellow))
    (true (control red)))
(<= (next (control blue))
    (true (control yellow)))
(<= (next (control red))
    (true (control blue)))

(<= terminal
    (line red))
(<= terminal
    (line yellow))
(<= terminal
    (line blue))
(<= terminal
    (not openColumn))

(<= (goal red 100)
    (line red))
(<= (goal red 50)
    (line yellow))
(<= (goal red 0)
    (line blue))
(<= (goal red 50)
    (not (line red))
    (not (line yellow))
    (not (line blue))
    (not openColumn))
(<= (goal yellow 100)
    (line yellow))
(<= (goal yellow 50)
    (line blue))
(<= (goal yellow 0)
    (line red))
(<= (goal yellow 50)
    (not (line red))
    (not (line yellow))
    (not (line blue))
    (not openColumn))
(<= (goal blue 100)
    (line blue))
(<= (goal blue 50)
    (line red))
(<= (goal blue 0)
    (line yellow))
(<= (goal blue 50)
    (not (line red))
    (not (line yellow))
    (not (line blue))
    (not openColumn))

(<= (line ?player)
    (row ?row)
    (consecutive ?col1 ?col2 ?col3 ?col4)
    (true (cell ?col1 ?row ?player))
    (true (cell ?col2 ?row ?player))
    (true (cell ?col3 ?row ?player))
    (true (cell ?col4 ?row ?player)))
(<= (line ?player)
    (index ?col)
    (consecutive ?row1 ?row2 ?row3 ?row4)
    (true (cell ?col ?row1 ?player))
    (true (cell ?col ?row2 ?player))
    (true (cell ?col ?row3 ?player))
    (true (cell ?col ?row4 ?player)))
(<= (line ?player)
    (consecutive ?col1 ?col2 ?col3 ?col4)
    (consecutive ?row1 ?row2 ?row3 ?row4)
    (true (cell ?col1 ?row1 ?player))
    (true (cell ?col2 ?row2 ?player))
    (true (cell ?col3 ?row3 ?player))
    (true (cell ?col4 ?row4 ?player)))
(<= (line ?player)
    (consecutive ?col1 ?col2 ?col3 ?col4)
    (consecutive ?row4 ?row3 ?row2 ?row1)
    (true (cell ?col1 ?row1 ?player))
    (true (cell ?col2 ?row2 ?player))
    (true (cell ?col3 ?row3 ?player))
    (true (cell ?col4 ?row4 ?player)))

(<= (consecutive 1 2 3 4))
(<= (consecutive 2 3 4 5))
(<= (consecutive 3 4 5 6))
(<= (consecutive 4 5 6 7))
(<= (consecutive 5 6 7 8))

(<= (lowestEmpty ?col ?row)
    (row ?row)
    (open ?col ?row)
    (not (existsLowerEmpty ?col ?row)))

(<= (existsLowerEmpty ?col ?row)
    (row ?lowerRow)
    (succ ?lowerRow ?row)
    (open ?col ?lowerRow))

(<= (open ?col)
    (row ?row)
    (open ?col ?row))

(<= (open ?col ?row)
    (not (true (cell ?col ?row red)))
    (not (true (cell ?col ?row yellow)))
    (not (true (cell ?col ?row blue)))

(<= openColumn
    (index ?col)
    (open ?col))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)