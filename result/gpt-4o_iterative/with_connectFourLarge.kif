(role red)
(role black)

(column 1)
(column 2)
(column 3)
(column 4)
(column 5)
(column 6)
(column 7)
(column 8)
(column 9)
(column 10)
(column 11)
(column 12)

(row 1)
(row 2)
(row 3)
(row 4)
(row 5)
(row 6)
(row 7)
(row 8)
(row 9)

(init (control red))

(<= (legal red noop)
    (true (control black)))
(<= (legal red (drop ?c))
    (true (control red))
    (open ?c))
(<= (legal black noop)
    (true (control red)))
(<= (legal black (drop ?c))
    (true (control black))
    (open ?c))

(<= (next (cell ?c ?r ?mark))
    (role ?player)
    (does ?player (drop ?c))
    (lowestEmpty ?c ?r)
    (role ?player)
    (markForPlayer ?player ?mark))
(<= (next (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark)))

(<= (next (control red))
    (true (control black)))
(<= (next (control black))
    (true (control red)))

(<= terminal
    (line red))
(<= terminal
    (line black))
(<= terminal
    (not openColumn))

(<= (goal red 100)
    (line red))
(<= (goal red 50)
    (not (line red))
    (not (line black))
    (not openColumn))
(<= (goal red 0)
    (line black))
(<= (goal red 0)
    (not (line red))
    (not (line black))
    openColumn)
(<= (goal black 100)
    (line black))
(<= (goal black 50)
    (not (line red))
    (not (line black))
    (not openColumn))
(<= (goal black 0)
    (line red))
(<= (goal black 0)
    (not (line red))
    (not (line black))
    openColumn)

(<= (horizontal ?r ?mark)
    (column ?c1)
    (column ?c2)
    (column ?c3)
    (column ?c4)
    (succ ?c1 ?c2)
    (succ ?c2 ?c3)
    (succ ?c3 ?c4)
    (true (cell ?c1 ?r ?mark))
    (true (cell ?c2 ?r ?mark))
    (true (cell ?c3 ?r ?mark))
    (true (cell ?c4 ?r ?mark)))

(<= (vertical ?c ?mark)
    (row ?r1)
    (row ?r2)
    (row ?r3)
    (row ?r4)
    (succ ?r1 ?r2)
    (succ ?r2 ?r3)
    (succ ?r3 ?r4)
    (true (cell ?c ?r1 ?mark))
    (true (cell ?c ?r2 ?mark))
    (true (cell ?c ?r3 ?mark))
    (true (cell ?c ?r4 ?mark)))

(<= (diagonal1 ?mark)
    (column ?c1)
    (column ?c2)
    (column ?c3)
    (column ?c4)
    (row ?r1)
    (row ?r2)
    (row ?r3)
    (row ?r4)
    (succ ?c1 ?c2)
    (succ ?c2 ?c3)
    (succ ?c3 ?c4)
    (succ ?r1 ?r2)
    (succ ?r2 ?r3)
    (succ ?r3 ?r4)
    (true (cell ?c1 ?r1 ?mark))
    (true (cell ?c2 ?r2 ?mark))
    (true (cell ?c3 ?r3 ?mark))
    (true (cell ?c4 ?r4 ?mark)))

(<= (diagonal2 ?mark)
    (column ?c1)
    (column ?c2)
    (column ?c3)
    (column ?c4)
    (row ?r1)
    (row ?r2)
    (row ?r3)
    (row ?r4)
    (succ ?c1 ?c2)
    (succ ?c2 ?c3)
    (succ ?c3 ?c4)
    (succ ?r4 ?r3)
    (succ ?r3 ?r2)
    (succ ?r2 ?r1)
    (true (cell ?c1 ?r4 ?mark))
    (true (cell ?c2 ?r3 ?mark))
    (true (cell ?c3 ?r2 ?mark))
    (true (cell ?c4 ?r1 ?mark)))

(<= (line ?mark)
    (horizontal ?r ?mark))
(<= (line ?mark)
    (vertical ?c ?mark))
(<= (line ?mark)
    (diagonal1 ?mark))
(<= (line ?mark)
    (diagonal2 ?mark))

(<= (lowestEmpty ?c ?r)
    (row ?r)
    (open ?c ?r)
    (not (lowerOpen ?c ?r)))

(<= (open ?c)
    (column ?c)
    (row ?r)
    (open ?c ?r))

(<= (open ?c ?r)
    (column ?c)
    (row ?r)
    (not (true (cell ?c ?r red)))
    (not (true (cell ?c ?r black))))

(<= (lowerOpen ?c ?r)
    (row ?r1)
    (succ ?r1 ?r)
    (open ?c ?r1))

(<= openColumn
    (open ?c))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)
(succ 10 11)
(succ 11 12)

(<= (markForPlayer red red))
(<= (markForPlayer black black))