(role white)
(role black)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)

(init (control white))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 1 4 b))
(init (cell 1 5 b))
(init (cell 1 6 b))
(init (cell 1 7 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 2 4 b))
(init (cell 2 5 b))
(init (cell 2 6 b))
(init (cell 2 7 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))
(init (cell 3 4 b))
(init (cell 3 5 b))
(init (cell 3 6 b))
(init (cell 3 7 b))
(init (cell 4 1 b))
(init (cell 4 2 b))
(init (cell 4 3 b))
(init (cell 4 4 b))
(init (cell 4 5 b))
(init (cell 4 6 b))
(init (cell 4 7 b))
(init (cell 5 1 b))
(init (cell 5 2 b))
(init (cell 5 3 b))
(init (cell 5 4 b))
(init (cell 5 5 b))
(init (cell 5 6 b))
(init (cell 5 7 b))
(init (cell 6 1 b))
(init (cell 6 2 b))
(init (cell 6 3 b))
(init (cell 6 4 b))
(init (cell 6 5 b))
(init (cell 6 6 b))
(init (cell 6 7 b))

(<= (legal white (drop ?c))
    (true (control white))
    (index ?c)
    (empty ?c))
(<= (legal black (drop ?c))
    (true (control black))
    (index ?c)
    (empty ?c))
(<= (legal white noop)
    (true (control black)))
(<= (legal black noop)
    (true (control white)))

(<= (next (cell ?r ?c x))
    (does white (drop ?c))
    (lowestEmpty ?r ?c))
(<= (next (cell ?r ?c o))
    (does black (drop ?c))
    (lowestEmpty ?r ?c))
(<= (next (cell ?r ?c ?mark))
    (true (cell ?r ?c ?mark))
    (distinct ?mark b))
(<= (next (control white))
    (true (control black)))
(<= (next (control black))
    (true (control white)))

(<= terminal
    (connect4 x))
(<= terminal
    (connect4 o))
(<= terminal
    (not open))

(<= (goal white 100)
    (connect4 x))
(<= (goal white 50)
    (not (connect4 x))
    (not (connect4 o))
    (not open))
(<= (goal white 0)
    (connect4 o))
(<= (goal white 0)
    (not (connect4 x))
    (not (connect4 o))
    open)
(<= (goal black 100)
    (connect4 o))
(<= (goal black 50)
    (not (connect4 x))
    (not (connect4 o))
    (not open))
(<= (goal black 0)
    (connect4 x))
(<= (goal black 0)
    (not (connect4 x))
    (not (connect4 o))
    open)

(<= (connect4 ?mark)
    (rowConnect4 ?mark))
(<= (connect4 ?mark)
    (colConnect4 ?mark))
(<= (connect4 ?mark)
    (diagConnect4 ?mark))

(<= (rowConnect4 ?mark)
    (index ?r)
    (index ?c1)
    (index ?c2)
    (index ?c3)
    (index ?c4)
    (succ ?c1 ?c2)
    (succ ?c2 ?c3)
    (succ ?c3 ?c4)
    (true (cell ?r ?c1 ?mark))
    (true (cell ?r ?c2 ?mark))
    (true (cell ?r ?c3 ?mark))
    (true (cell ?r ?c4 ?mark)))
(<= (colConnect4 ?mark)
    (index ?c)
    (index ?r1)
    (index ?r2)
    (index ?r3)
    (index ?r4)
    (succ ?r1 ?r2)
    (succ ?r2 ?r3)
    (succ ?r3 ?r4)
    (true (cell ?r1 ?c ?mark))
    (true (cell ?r2 ?c ?mark))
    (true (cell ?r3 ?c ?mark))
    (true (cell ?r4 ?c ?mark)))
(<= (diagConnect4 ?mark)
    (index ?r1)
    (index ?r2)
    (index ?r3)
    (index ?r4)
    (index ?c1)
    (index ?c2)
    (index ?c3)
    (index ?c4)
    (succ ?r1 ?r2)
    (succ ?r2 ?r3)
    (succ ?r3 ?r4)
    (succ ?c1 ?c2)
    (succ ?c2 ?c3)
    (succ ?c3 ?c4)
    (true (cell ?r1 ?c1 ?mark))
    (true (cell ?r2 ?c2 ?mark))
    (true (cell ?r3 ?c3 ?mark))
    (true (cell ?r4 ?c4 ?mark)))
(<= (diagConnect4 ?mark)
    (index ?r1)
    (index ?r2)
    (index ?r3)
    (index ?r4)
    (index ?c1)
    (index ?c2)
    (index ?c3)
    (index ?c4)
    (succ ?r1 ?r2)
    (succ ?r2 ?r3)
    (succ ?r3 ?r4)
    (succ ?c4 ?c3)
    (succ ?c3 ?c2)
    (succ ?c2 ?c1)
    (true (cell ?r1 ?c4 ?mark))
    (true (cell ?r2 ?c3 ?mark))
    (true (cell ?r3 ?c2 ?mark))
    (true (cell ?r4 ?c1 ?mark)))

(<= (empty ?c)
    (index ?r)
    (true (cell ?r ?c b)))

(<= (lowestEmpty ?r ?c)
    (index ?r)
    (index ?c)
    (true (cell ?r ?c b))
    (not (lowerEmpty ?r ?c)))

(<= (lowerEmpty ?r1 ?c)
    (index ?r1)
    (index ?r2)
    (index ?c)
    (succ ?r1 ?r2)
    (true (cell ?r2 ?c b)))

(<= open
    (empty ?c))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)