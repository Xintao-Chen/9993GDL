(role yellow)
(role red)

(index 0)
(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)

(init (control yellow))
(init (cubes yellow 28))
(init (cubes red 28))

(<= (legal yellow noop)
    (true (control red)))
(<= (legal red noop)
    (true (control yellow)))

(<= (legal yellow (place ?x ?y ?z))
    (true (control yellow))
    (open ?x ?y ?z)
    (true (cubes yellow ?n))
    (succ ?z ?below)
    (filled ?x ?y ?below))
(<= (legal red (place ?x ?y ?z))
    (true (control red))
    (open ?x ?y ?z)
    (true (cubes red ?n))
    (succ ?z ?below)
    (filled ?x ?y ?below))

(<= (next (filled ?x ?y ?z))
    (role ?player)
    (does ?player (place ?x ?y ?z)))
(<= (next (filled ?x ?y ?z))
    (true (filled ?x ?y ?z))
    (index ?x)
    (index ?y)
    (index ?z))

(<= (next (cubes ?player ?n))
    (role ?player)
    (does ?player (place ?x ?y ?z))
    (true (cubes ?player ?n1))
    (succ ?n ?n1))
(<= (next (cubes ?player ?n))
    (role ?player)
    (not (does ?player (place ?x ?y ?z)))
    (true (cubes ?player ?n)))

(<= (next (control yellow))
    (true (control red)))
(<= (next (control red))
    (true (control yellow)))

(<= terminal
    (filled 6 6 6))

(<= (goal yellow 100)
    (true (control yellow))
    (filled 6 6 6)
    (not (cubicup 6 6 6 red)))
(<= (goal yellow 50)
    (true (control red))
    (filled 6 6 6)
    (cubicup 6 6 6 red))
(<= (goal yellow 0)
    (true (control red))
    (filled 6 6 6)
    (not (cubicup 6 6 6 red)))

(<= (goal red 100)
    (true (control red))
    (filled 6 6 6)
    (not (cubicup 6 6 6 yellow)))
(<= (goal red 50)
    (true (control yellow))
    (filled 6 6 6)
    (cubicup 6 6 6 yellow))
(<= (goal red 0)
    (true (control yellow))
    (filled 6 6 6)
    (not (cubicup 6 6 6 yellow)))

(<= (open ?x ?y ?z)
    (index ?x)
    (index ?y)
    (index ?z)
    (not (true (filled ?x ?y ?z))))

(<= (cubicup ?x ?y ?z ?player)
    (role ?player)
    (true (filled ?x ?y ?z))
    (adjacent ?x ?y ?z ?x1 ?y1 ?z1)
    (adjacent ?x ?y ?z ?x2 ?y2 ?z2)
    (adjacent ?x ?y ?z ?x3 ?y3 ?z3)
    (true (filled ?x1 ?y1 ?z1))
    (true (filled ?x2 ?y2 ?z2))
    (true (filled ?x3 ?y3 ?z3)))

(<= (adjacent ?x ?y ?z ?x1 ?y1 ?z1)
    (index ?x)
    (index ?y)
    (index ?z)
    (index ?x1)
    (index ?y1)
    (index ?z1)
    (or (succ ?x ?x1) (succ ?x1 ?x))
    (or (succ ?y ?y1) (succ ?y1 ?y))
    (or (succ ?z ?z1) (succ ?z1 ?z)))

(<= (succ 0 1))
(<= (succ 1 2))
(<= (succ 2 3))
(<= (succ 3 4))
(<= (succ 4 5))
(<= (succ 5 6))