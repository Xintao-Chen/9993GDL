(role red)
(role blue)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)

(shade weak)
(shade medium)
(shade strong)

(init (control red))

(<= (legal red noop)
    (true (control blue)))
(<= (legal red (mark ?i ?j ?shade))
    (true (control red))
    (emptyCell ?i ?j)
    (shade ?shade)
    (not (prohibited red ?shade)))
(<= (legal blue noop)
    (true (control red)))
(<= (legal blue (mark ?i ?j ?shade))
    (true (control blue))
    (emptyCell ?i ?j)
    (shade ?shade)
    (not (prohibited blue ?shade)))

(<= (next (mark ?i ?j ?shade))
    (role ?player)
    (does ?player (mark ?i ?j ?shade)))
(<= (next (mark ?i ?j ?shade))
    (true (mark ?i ?j ?shade)))

(<= (next (control red))
    (true (control blue)))
(<= (next (control blue))
    (true (control red)))

(<= (next (prohibited red medium))
    (does red (mark ?i ?j weak)))
(<= (next (prohibited red strong))
    (does red (mark ?i ?j weak)))
(<= (next (prohibited blue medium))
    (does blue (mark ?i ?j weak)))
(<= (next (prohibited blue strong))
    (does blue (mark ?i ?j weak)))

(<= terminal
    (line red))
(<= terminal
    (line blue))
(<= terminal
    (not open))

(<= (goal red 100)
    (line red))
(<= (goal red 50)
    (not (line red))
    (not (line blue))
    (not open))
(<= (goal red 0)
    (line blue))
(<= (goal red 0)
    (not (line red))
    (not (line blue))
    open)
(<= (goal blue 100)
    (line blue))
(<= (goal blue 50)
    (not (line red))
    (not (line blue))
    (not open))
(<= (goal blue 0)
    (line red))
(<= (goal blue 0)
    (not (line red))
    (not (line blue))
    open)

(<= (row ?i ?shade)
    (true (mark ?i 1 ?shade))
    (true (mark ?i 2 ?shade))
    (true (mark ?i 3 ?shade))
    (true (mark ?i 4 ?shade))
    (true (mark ?i 5 ?shade)))
(<= (col ?j ?shade)
    (true (mark 1 ?j ?shade))
    (true (mark 2 ?j ?shade))
    (true (mark 3 ?j ?shade))
    (true (mark 4 ?j ?shade))
    (true (mark 5 ?j ?shade)))

(<= (line ?player)
    (role ?player)
    (index ?i)
    (row ?i ?shade)
    (not (opponentMarkRow ?i ?shade ?player)))
(<= (line ?player)
    (role ?player)
    (index ?j)
    (col ?j ?shade)
    (not (opponentMarkCol ?j ?shade ?player)))

(<= (opponentMarkRow ?i ?shade ?player)
    (role ?opponent)
    (index ?j)
    (distinct ?player ?opponent)
    (true (mark ?i ?j ?opponentShade))
    (distinct ?opponentShade ?shade))

(<= (opponentMarkCol ?j ?shade ?player)
    (role ?opponent)
    (index ?i)
    (distinct ?player ?opponent)
    (true (mark ?i ?j ?opponentShade))
    (distinct ?opponentShade ?shade))

(<= (emptyCell ?i ?j)
    (index ?i)
    (index ?j)
    (not (true (mark ?i ?j weak)))
    (not (true (mark ?i ?j medium)))
    (not (true (mark ?i ?j strong))))
(<= open
    (emptyCell ?i ?j))