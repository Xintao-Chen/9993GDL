(role red)
(role blue)

(index 0)
(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)
(index 9)
(index 10)
(index 11)

(init (position red 3 3))
(init (position blue 8 8))
(init (visited 3 3))
(init (visited 8 8))

(<= (legal ?player (move up))
    (role ?player)
    (true (position ?player ?x ?y))
    (index ?x)
    (index ?y)
    (succ ?ny ?y)
    (inside ?x ?ny))
(<= (legal ?player (move down))
    (role ?player)
    (true (position ?player ?x ?y))
    (index ?x)
    (index ?y)
    (succ ?y ?ny)
    (inside ?x ?ny))
(<= (legal ?player (move left))
    (role ?player)
    (true (position ?player ?x ?y))
    (index ?x)
    (index ?y)
    (succ ?nx ?x)
    (inside ?nx ?y))
(<= (legal ?player (move right))
    (role ?player)
    (true (position ?player ?x ?y))
    (index ?x)
    (index ?y)
    (succ ?x ?nx)
    (inside ?nx ?y))

(<= (next (position ?player ?nx ?ny))
    (does ?player (move up))
    (true (position ?player ?x ?y))
    (succ ?ny ?y)
    (inside ?x ?ny)
    (index ?x))
(<= (next (position ?player ?nx ?ny))
    (does ?player (move down))
    (true (position ?player ?x ?y))
    (succ ?y ?ny)
    (inside ?x ?ny)
    (index ?x))
(<= (next (position ?player ?nx ?ny))
    (does ?player (move left))
    (true (position ?player ?x ?y))
    (succ ?nx ?x)
    (inside ?nx ?y)
    (index ?y))
(<= (next (position ?player ?nx ?ny))
    (does ?player (move right))
    (true (position ?player ?x ?y))
    (succ ?x ?nx)
    (inside ?nx ?y)
    (index ?y))

(<= (next (visited ?x ?y))
    (true (visited ?x ?y)))
(<= (next (visited ?x ?y))
    (does ?player (move ?dir))
    (true (position ?player ?x ?y)))

(<= terminal
    (conflict))
(<= terminal
    (wall red))
(<= terminal
    (wall blue))

(<= (goal red 100)
    (wall blue)
    (not (wall red)))
(<= (goal red 0)
    (wall red)
    (not (wall blue)))
(<= (goal red 50)
    (wall red)
    (wall blue))
(<= (goal red 50)
    (conflict))

(<= (goal blue 100)
    (wall red)
    (not (wall blue)))
(<= (goal blue 0)
    (wall blue)
    (not (wall red)))
(<= (goal blue 50)
    (wall red)
    (wall blue))
(<= (goal blue 50)
    (conflict))

(<= (conflict)
    (true (position red ?x ?y))
    (true (position blue ?x ?y)))
(<= (conflict)
    (does red (move ?dir))
    (does blue (move ?dir))
    (true (position red ?x ?y))
    (true (position blue ?x ?y))
    (succ ?nx ?x)
    (succ ?ny ?y)
    (inside ?nx ?ny))

(<= (wall ?player)
    (true (position ?player ?x ?y))
    (not (inside ?x ?y)))

(<= (inside ?x ?y)
    (index ?x)
    (index ?y)
    (greaterThan ?x 0)
    (greaterThan ?y 0)
    (lessThan ?x 11)
    (lessThan ?y 11))

(<= (greaterThan ?a ?b)
    (succ ?b ?a))
(<= (lessThan ?a ?b)
    (succ ?a ?b))

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)
(succ 6 7)
(succ 7 8)
(succ 8 9)
(succ 9 10)
(succ 10 11)