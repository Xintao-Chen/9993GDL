(role odd)
(role even)

(index 1)
(index 2)
(index 3)

(init (control odd))
(init (cell 1 1 b))
(init (cell 1 2 b))
(init (cell 1 3 b))
(init (cell 2 1 b))
(init (cell 2 2 b))
(init (cell 2 3 b))
(init (cell 3 1 b))
(init (cell 3 2 b))
(init (cell 3 3 b))

(<= (legal odd noop)
    (true (control even)))
(<= (legal odd (mark ?m ?n ?x))
    (true (control odd))
    (oddNumber ?x)
    (blank ?m ?n))
(<= (legal even noop)
    (true (control odd)))
(<= (legal even (mark ?m ?n ?x))
    (true (control even))
    (evenNumber ?x)
    (blank ?m ?n))

(<= (next (cell ?m ?n ?x))
    (does ?player (mark ?m ?n ?x)))
(<= (next (cell ?m ?n ?x))
    (true (cell ?m ?n ?x))
    (not (does ?player (mark ?m ?n ?y))))
(<= (next (control odd))
    (true (control even)))
(<= (next (control even))
    (true (control odd)))

(<= terminal
    (line))
(<= terminal
    (not open))

(<= (goal odd 100)
    (line)
    (true (control even)))
(<= (goal odd 0)
    (line)
    (true (control odd)))
(<= (goal odd 50)
    (not line)
    (not open))
(<= (goal even 100)
    (line)
    (true (control odd)))
(<= (goal even 0)
    (line)
    (true (control even)))
(<= (goal even 50)
    (not line)
    (not open))

(<= (row ?m)
    (index ?n1)
    (index ?n2)
    (index ?n3)
    (true (cell ?m ?n1 ?x1))
    (true (cell ?m ?n2 ?x2))
    (true (cell ?m ?n3 ?x3))
    (lineCondition ?x1 ?x2 ?x3))
(<= (col ?n)
    (index ?m1)
    (index ?m2)
    (index ?m3)
    (true (cell ?m1 ?n ?x1))
    (true (cell ?m2 ?n ?x2))
    (true (cell ?m3 ?n ?x3))
    (lineCondition ?x1 ?x2 ?x3))
(<= (diag)
    (true (cell 1 1 ?x1))
    (true (cell 2 2 ?x2))
    (true (cell 3 3 ?x3))
    (lineCondition ?x1 ?x2 ?x3))
(<= (diag)
    (true (cell 1 3 ?x1))
    (true (cell 2 2 ?x2))
    (true (cell 3 1 ?x3))
    (lineCondition ?x1 ?x2 ?x3))

(<= (line)
    (index ?i)
    (row ?i))
(<= (line)
    (index ?j)
    (col ?j))
(<= (line)
    (diag))

(<= (blank ?m ?n)
    (index ?m)
    (index ?n)
    (true (cell ?m ?n b)))
(<= open
    (blank ?m ?n))

(oddNumber 1)
(oddNumber 3)
(oddNumber 5)
(evenNumber 2)
(evenNumber 4)
(evenNumber 6)

(<= (lineCondition ?x1 ?x2 ?x3)
    (oddNumber ?x1)
    (oddNumber ?x2)
    (oddNumber ?x3))
(<= (lineCondition ?x1 ?x2 ?x3)
    (evenNumber ?x1)
    (evenNumber ?x2)
    (evenNumber ?x3))