(role red)
(role black)

(index 1)
(index 2)
(index 3)
(index 4)
(index 5)
(index 6)
(index 7)
(index 8)

(init (control red))

(<= (legal red noop)
    (true (control black)))
(<= (legal red (drop ?c))
    (true (control red))
    (open ?c))
(<= (legal black noop)
    (true (control red)))
(<= (legal black (drop ?c))
    (true (control black))
    (open ?c))

(<= (next (cell ?c ?r ?mark))
    (role ?player)
    (does ?player (drop ?c))
    (lowestEmpty ?c ?r)
    (true (control ?player)))
(<= (next (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark)))
(<= (next (control red))
    (true (control black)))
(<= (next (control black))
    (true (control red)))

(<= terminal
    (line red))
(<= terminal
    (line black))
(<= terminal
    (not openColumn))

(<= (goal red 100)
    (line black))
(<= (goal red 50)
    (not (line red))
    (not (line black))
    (not openColumn))
(<= (goal red 0)
    (line red))
(<= (goal red 0)
    (not (line red))
    (not (line black))
    openColumn)
(<= (goal black 100)
    (line red))
(<= (goal black 50)
    (not (line red))
    (not (line black))
    (not openColumn))
(<= (goal black 0)
    (line black))
(<= (goal black 0)
    (not (line red))
    (not (line black))
    openColumn)

(<= (row ?r ?mark)
    (index ?c)
    (true (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark)))
(<= (col ?c ?mark)
    (index ?r)
    (true (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark))
    (true (cell ?c ?r ?mark)))
(<= (diag1 ?mark)
    (true (cell 1 1 ?mark))
    (true (cell 2 2 ?mark))
    (true (cell 3 3 ?mark))
    (true (cell 4 4 ?mark)))
(<= (diag1 ?mark)
    (true (cell 2 1 ?mark))
    (true (cell 3 2 ?mark))
    (true (cell 4 3 ?mark))
    (true (cell 5 4 ?mark)))
(<= (diag1 ?mark)
    (true (cell 3 1 ?mark))
    (true (cell 4 2 ?mark))
    (true (cell 5 3 ?mark))
    (true (cell 6 4 ?mark)))
(<= (diag1 ?mark)
    (true (cell 4 1 ?mark))
    (true (cell 5 2 ?mark))
    (true (cell 6 3 ?mark))
    (true (cell 7 4 ?mark)))
(<= (diag1 ?mark)
    (true (cell 5 1 ?mark))
    (true (cell 6 2 ?mark))
    (true (cell 7 3 ?mark))
    (true (cell 8 4 ?mark)))
(<= (diag2 ?mark)
    (true (cell 4 1 ?mark))
    (true (cell 3 2 ?mark))
    (true (cell 2 3 ?mark))
    (true (cell 1 4 ?mark)))
(<= (diag2 ?mark)
    (true (cell 5 1 ?mark))
    (true (cell 4 2 ?mark))
    (true (cell 3 3 ?mark))
    (true (cell 2 4 ?mark)))
(<= (diag2 ?mark)
    (true (cell 6 1 ?mark))
    (true (cell 5 2 ?mark))
    (true (cell 4 3 ?mark))
    (true (cell 3 4 ?mark)))
(<= (diag2 ?mark)
    (true (cell 7 1 ?mark))
    (true (cell 6 2 ?mark))
    (true (cell 5 3 ?mark))
    (true (cell 4 4 ?mark)))
(<= (diag2 ?mark)
    (true (cell 8 1 ?mark))
    (true (cell 7 2 ?mark))
    (true (cell 6 3 ?mark))
    (true (cell 5 4 ?mark)))

(<= (line ?mark)
    (index ?r)
    (row ?r ?mark))
(<= (line ?mark)
    (index ?c)
    (col ?c ?mark))
(<= (line ?mark)
    (diag1 ?mark))
(<= (line ?mark)
    (diag2 ?mark))

(<= (lowestEmpty ?c ?r)
    (index ?r)
    (not (true (cell ?c ?r red)))
    (not (true (cell ?c ?r black)))
    (not (lowerEmpty ?c ?r)))

(<= (lowerEmpty ?c ?r)
    (index ?r)
    (index ?r2)
    (succ ?r2 ?r)
    (not (true (cell ?c ?r2 red)))
    (not (true (cell ?c ?r2 black)))

(<= open ?c
    (index ?r)
    (lowestEmpty ?c ?r))

(<= openColumn
    (index ?c)
    (open ?c))

(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)
(succ 5 6)