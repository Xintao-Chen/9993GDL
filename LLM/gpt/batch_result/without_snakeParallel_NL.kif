(role snake)
(index 1)
(index 2)
(index 3)
(index 4)

(init (step 0))
(init (snake (1 1)))
(init (snake (2 1)))

(<= (legal snake (move up))
    (true (snakeHead ?x ?y))
    (index ?x)
    (index ?y)
    (distinct ?y 1))
(<= (legal snake (move down))
    (true (snakeHead ?x ?y))
    (index ?x)
    (index ?y)
    (distinct ?y 4))
(<= (legal snake (move left))
    (true (snakeHead ?x ?y))
    (index ?x)
    (index ?y)
    (distinct ?x 1))
(<= (legal snake (move right))
    (true (snakeHead ?x ?y))
    (index ?x)
    (index ?y)
    (distinct ?x 4))
(<= (legal snake noop)
    (not (legal snake (move up)))
    (not (legal snake (move down)))
    (not (legal snake (move left)))
    (not (legal snake (move right))))

(<= (next (snakeHead ?newX ?newY))
    (does snake (move up))
    (true (snakeHead ?x ?y))
    (succ ?newY ?y)
    (true (snakeHead ?x ?newY)))
(<= (next (snakeHead ?newX ?newY))
    (does snake (move down))
    (true (snakeHead ?x ?y))
    (succ ?y ?newY)
    (true (snakeHead ?x ?newY)))
(<= (next (snakeHead ?newX ?newY))
    (does snake (move left))
    (true (snakeHead ?x ?y))
    (succ ?newX ?x)
    (true (snakeHead ?newX ?y)))
(<= (next (snakeHead ?newX ?newY))
    (does snake (move right))
    (true (snakeHead ?x ?y))
    (succ ?x ?newX)
    (true (snakeHead ?newX ?y)))

(<= (next (snake ?x ?y))
    (true (snakeHead ?x ?y)))
(<= (next (snake ?x ?y))
    (true (snake ?x ?y))
    (not (true (snakeHead ?x ?y))))

(<= (next (step ?nextStep))
    (true (step ?step))
    (succ ?step ?nextStep))

(<= terminal
    (true (step 20)))
(<= terminal
    (collision))

(<= (goal snake 100)
    (not open))
(<= (goal snake 0)
    open)

(<= open
    (index ?x)
    (index ?y)
    (not (true (snake ?x ?y))))

(<= collision
    (true (snakeHead ?x ?y))
    (true (snake ?x ?y)))

(succ 0 1)
(succ 1 2)
(succ 2 3)
(succ 3 4)
(succ 4 5)