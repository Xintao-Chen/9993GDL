(role robot)

(init (light p off))
(init (light q off))
(init (light r off))
(init (step 1))

(<= (legal robot a) (true (step ?s)) (<= ?s 7))
(<= (legal robot b) (true (step ?s)) (<= ?s 7))
(<= (legal robot c) (true (step ?s)) (<= ?s 7))

(<= (next (light p ?newStateP))
    (does robot a)
    (true (light p ?currentStateP))
    (if (equal ?currentStateP off) (equal ?newStateP on) (equal ?newStateP off)))
(<= (next (light q ?newStateQ))
    (does robot a)
    (true (light q ?currentStateQ))
    (if (equal ?currentStateQ off) (equal ?newStateQ on) (equal ?newStateQ off)))
(<= (next (light r ?newStateR))
    (does robot a)
    (true (light r ?currentStateR))
    (if (equal ?currentStateR off) (equal ?newStateR on) (equal ?newStateR off)))

(<= (next (light p ?newStateP))
    (does robot b)
    (true (light p ?currentStateP))
    (true (light q ?currentStateQ))
    (if (equal ?currentStateP ?currentStateQ) (equal ?newStateP ?currentStateP) (equal ?newStateP ?currentStateQ)))
(<= (next (light q ?newStateQ))
    (does robot b)
    (true (light p ?currentStateP))
    (true (light q ?currentStateQ))
    (if (equal ?currentStateP ?currentStateQ) (equal ?newStateQ ?currentStateQ) (equal ?newStateQ ?currentStateP)))
(<= (next (light r ?newStateR))
    (does robot b)
    (true (light r ?currentStateR)))

(<= (next (light p ?newStateP))
    (does robot c)
    (true (light p ?currentStateP)))
(<= (next (light q ?newStateQ))
    (does robot c)
    (true (light q ?currentStateQ))
    (true (light r ?currentStateR))
    (if (equal ?currentStateQ ?currentStateR) (equal ?newStateQ ?currentStateR) (equal ?newStateQ ?currentStateQ)))
(<= (next (light r ?newStateR))
    (does robot c)
    (true (light q ?currentStateQ))
    (true (light r ?currentStateR))
    (if (equal ?currentStateQ ?currentStateR) (equal ?newStateR ?currentStateQ) (equal ?newStateR ?currentStateR)))

(<= (next (step ?newStep))
    (true (step ?s))
    (succ ?s ?newStep))

(<= terminal (equal ?s 7))
(<= terminal (and (true (light p on)) (true (light q on)) (true (light r on))))

(<= (goal robot 100)
    (and (true (light p on)) (true (light q on)) (true (light r on))))
(<= (goal robot 0)
    (not (and (true (light p on)) (true (light q on)) (true (light r on)))))